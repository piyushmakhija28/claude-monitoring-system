{
  "name": "migration",
  "version": "1.0.0",
  "description": "Critical system migration handler for framework upgrades, database migrations, API versioning, and architecture changes with zero downtime and guaranteed rollback",
  "author": "Claude Memory System",
  "invocation": {
    "command": "/migration",
    "aliases": ["migrate", "upgrade", "version-upgrade"],
    "parameters": [
      {
        "name": "type",
        "description": "Migration type: framework, database, api, dependencies, cloud, architecture, auth",
        "required": false,
        "default": "auto-detect"
      },
      {
        "name": "framework",
        "description": "Framework name: Spring Boot, Angular, React, Node.js, etc.",
        "required": false
      },
      {
        "name": "from",
        "description": "Current version",
        "required": false
      },
      {
        "name": "to",
        "description": "Target version",
        "required": false
      },
      {
        "name": "strategy",
        "description": "Migration strategy: safe, aggressive, gradual, blue-green",
        "required": false,
        "default": "safe"
      },
      {
        "name": "auto-approve",
        "description": "Skip approval prompts (use with caution)",
        "required": false,
        "default": false
      }
    ]
  },
  "capabilities": [
    "Framework version migrations (Spring Boot, Angular, React, etc.)",
    "Database schema migrations (Flyway, Liquibase)",
    "Database engine migrations (MySQL → PostgreSQL, etc.)",
    "API version migrations (v1 → v2, breaking changes)",
    "Dependency major upgrades (npm, Maven, Gradle)",
    "Cloud infrastructure migrations (on-premise → AWS/Azure/GCP)",
    "Architecture migrations (monolith → microservices)",
    "Authentication system migrations (Session → JWT → OAuth2)",
    "Automatic backup creation and verification",
    "Rollback script generation and testing",
    "Breaking change analysis",
    "Migration plan generation",
    "Step-by-step execution with validation",
    "Auto-rollback on failures",
    "Migration report generation"
  ],
  "triggers": [
    "User mentions 'migration', 'migrate', 'upgrade', 'update version'",
    "Framework version change detected",
    "Database schema change needed",
    "API version change needed",
    "Major dependency update needed",
    "Architecture change mentioned"
  ],
  "related_skills": [
    "commit",
    "test",
    "docker",
    "kubernetes",
    "jenkins-pipeline"
  ],
  "related_agents": [
    "migration-expert",
    "spring-boot-microservices",
    "devops-engineer"
  ],
  "risk_level": "CRITICAL",
  "requires_approval": true,
  "auto_backup": true,
  "auto_rollback": true,
  "files": [
    "skill.md",
    "detect-migration-type.py",
    "analyze-impact.py",
    "create-checklist.py",
    "create-backup.py",
    "create-rollback-script.py",
    "update-dependencies.py",
    "fix-deprecations.py",
    "execute-migration.py",
    "verify-migration.py",
    "generate-report.py"
  ],
  "examples": [
    {
      "description": "Spring Boot migration",
      "command": "/migration --framework 'Spring Boot' --from '2.7.18' --to '3.2.0'"
    },
    {
      "description": "Database schema migration",
      "command": "/migration --type flyway --action create --name 'add_user_roles_table'"
    },
    {
      "description": "Angular version upgrade",
      "command": "/migration --framework Angular --from 15 --to 17"
    },
    {
      "description": "API version migration",
      "command": "/migration --type api --from v1 --to v2 --strategy dual-running"
    },
    {
      "description": "Interactive migration",
      "command": "/migration"
    }
  ],
  "guarantees": [
    "Full backup created before migration",
    "Rollback script created and tested",
    "Migration tested on staging before production",
    "Auto-rollback on critical failures",
    "Zero data loss",
    "Detailed migration report generated"
  ],
  "tags": [
    "migration",
    "upgrade",
    "version",
    "critical",
    "framework",
    "database",
    "api",
    "rollback",
    "backup",
    "zero-downtime"
  ]
}
