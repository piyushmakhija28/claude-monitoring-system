# ğŸ¤– Claude Insight v2.17.2

**Professional Real-time Analytics Dashboard with Complete Claude Memory System v2.4.0 Integration**

[![GitHub](https://img.shields.io/badge/GitHub-claude--monitoring--system-blue?logo=github)](https://github.com/piyushmakhija28/claude-insight)
[![Python](https://img.shields.io/badge/Python-3.7+-blue?logo=python)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Flask-3.0-green?logo=flask)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

A comprehensive, real-time monitoring and analytics dashboard for the Claude Memory System v2.2.0. Track system health, analyze costs, monitor policies, and optimize performance - all from one beautiful interface with AI-powered anomaly detection, predictive forecasting, and custom alert routing.

**ğŸ COMPLETE PACKAGE**: This repo includes **everything you need** - the monitoring dashboard + **complete Claude Memory System v2.4.0 files**:
- âœ… **139 files** - All automation scripts, policies, and documentation
- âœ… **8-9 daemons** - Complete daemon monitoring scripts
- âœ… **81 automation scripts** - Python & Shell scripts for all features
- âœ… **50 policy files** - All 14 policies + complete documentation
- âœ… **CLAUDE.md** - Global configuration v2.2.0
- âœ… **Real-time integration** - Live monitoring of all components

**Developed by [TechDeveloper](https://www.techdeveloper.in)** ğŸ’»

---

## ğŸ“‘ Table of Contents

### ğŸš€ Getting Started
- [ğŸ¯ Overview](#overview)
- [âœ¨ Features](#features)
- [ğŸš€ Quick Start](#quick-start)
- [ğŸ“¦ What's Included](#whats-included)

### ğŸ“š Claude Memory System
- [ğŸ§  Memory System Overview](#claude-memory-system-overview)
- [ğŸ“– Complete Documentation](#complete-documentation)
- [ğŸ¤– System Architecture](#system-architecture)
  - [ğŸ—ï¸ 3-Layer Architecture](#ï¸-3-layer-architecture)
  - [âš¡ Execution Flow](#execution-flow-every-request)
  - [ğŸ”„ Background Automation](#background-automation)
- [ğŸ“œ 14 Active Policies](#14-active-policies)
- [â˜• Java Spring Boot Standards](#java-spring-boot-standards)
- [ğŸ”§ Spring Boot Configuration](#spring-boot-configuration)

### ğŸ¨ Dashboard Features
- [ğŸ“Š Core Monitoring](#core-monitoring-features)
- [ğŸ§  Memory System Integration](#memory-system-integration-v212)
- [ğŸ“‹ Plan Detection System](#plan-detection-system-v240) **NEW! ğŸ‰**
- [ğŸ¤– Complete Automation System Dashboard](#-complete-automation-system-dashboard-v2171-new) **NEW! ğŸ‰**
- [âš¡ Performance Profiling](#performance-profiling-v214)
- [ğŸ” Two-Factor Authentication](#two-factor-authentication-2fa-v216) **NEW!**
- [ğŸ“Š Custom Dashboard Builder](#custom-dashboard-builder-v216) **NEW!**
- [ğŸŒ Multi-language Support](#multi-language-support-i18n-v216) **NEW!**
- [ğŸ”Œ Plugin System](#plugin-system-v216) **NEW!**
- [ğŸ”„ Grafana & Prometheus](#grafana--prometheus-integration-v216) **NEW!**
- [ğŸ“§ Advanced Notifications](#advanced-notification-channels-v216) **NEW!**
- [ğŸ¨ Advanced Themes & Customization](#advanced-themes--customization-v215)
- [ğŸ” Advanced Search & Filtering](#advanced-search--filtering-v215)
- [ğŸ“ˆ ML Model Training](#ml-model-training-v215)
- [ğŸ› ï¸ Debugging & Troubleshooting](#debugging--troubleshooting-tools-v215)
- [ğŸš¨ Alert Routing](#alert-routing--escalation-v211)
- [ğŸ“ˆ Predictive Analytics](#predictive-analytics-v210)
- [ğŸ¤– AI Anomaly Detection](#ai-anomaly-detection-v29)
- [ğŸŒ Community Marketplace](#community-marketplace-v27-v213)
- [ğŸ¤ Widget Collaboration](#widget-collaboration-v213)

### ğŸ”§ Installation & Setup
- [ğŸ“¥ Installation Guide](#installation-guide)
- [âš™ï¸ Configuration](#configuration)
- [ğŸ¯ Memory System Setup](#memory-system-setup)
- [ğŸ”„ Running the Application](#running-the-application)

### ğŸ“– Usage & Reference
- [ğŸ’¡ How to Use](#how-to-use)
- [ğŸ”„ API Reference](#api-reference)
- [ğŸ“Š Metrics Tracked](#metrics-tracked)
- [ğŸ“ Project Structure](#project-structure)

### ğŸ“š Additional Resources
- [âš¡ Quick Start Guide (60 Seconds)](#quick-start-guide-60-seconds)
- [ğŸ¤– Automation System Integration Details](#automation-system-integration-details-v2171)
- [ğŸ”„ Auto-Sync Guide for Contributors](#auto-sync-guide-for-contributors)
- [ğŸ“¦ Complete Package Contents](#complete-package-contents)

### ğŸ›¡ï¸ Security & Support
- [ğŸ”’ Security](#security)
- [ğŸ› Troubleshooting](#troubleshooting)
- [ğŸ¤ Contributing](#contributing)
- [ğŸ“„ License](#license)

---

## Overview

The Claude Insight is a professional-grade dashboard that provides complete visibility into your Claude Memory System v2.2.0 deployment. Monitor daemon health, track policy enforcement, analyze token consumption, detect anomalies, and optimize performance - all in real-time.

### Why This Was Built

The Claude Memory System v2.2.0 is a powerful automation framework that:
- Reduces token consumption by 60-80%
- Prevents repeated failures through self-learning
- Manages context automatically with intelligent optimization
- Enforces code standards for Java Spring Boot projects
- Runs 8-9 background daemons for continuous optimization

**But how do you know it's working?** That's where this monitoring system comes in.

### What Makes This Special

ğŸ¯ **Complete Integration**: Direct integration with all Memory System components
ğŸ“Š **Real-time Monitoring**: Live updates every 10-30 seconds via WebSocket
ğŸ§  **AI-Powered**: Machine learning for anomaly detection and forecasting
ğŸš¨ **Smart Alerts**: Custom routing with multi-level escalation
ğŸŒ **Community Features**: Share widgets, collaborate in real-time
ğŸ“ˆ **Professional UI**: Beautiful, responsive dashboard with 6 themes
ğŸ”’ **Secure**: Authentication, authorization, XSS protection

---

## Features

### Core Monitoring Features

#### ğŸ“Š System Health Dashboard
- **Real-time Health Score**: 0-100 overall system health with component breakdown
- **Daemon Status Grid**: Visual health monitoring of all 8-9 daemons
- **Policy Compliance**: Track enforcement of all 14 active policies
- **Performance Metrics**: Response times, context usage, error tracking
- **Session Tracking**: Active sessions, history, incomplete work detection
- **ğŸ“‹ Plan Detection**: Auto-detects active Claude Code subscription (Free/Pro/Team/Enterprise) **NEW!**
- **Export Options**: CSV, Excel, PDF reports

#### ğŸ’° Cost Analysis
- **Model Usage Distribution**: Haiku/Sonnet/Opus usage percentages
- **API Costs**: Token consumption and cost tracking
- **Optimization Impact**: Token savings and efficiency metrics
- **Trend Analysis**: Historical cost patterns

#### ğŸ“ˆ Performance Metrics
- **Response Times**: Average, min, max response times
- **Context Usage**: Real-time token consumption monitoring
- **Cache Performance**: Hit rates and efficiency
- **Error Tracking**: Failure prevention statistics

---

### ğŸ“‹ Plan Detection System (v2.4.0) **NEW!**

**Automatically detects and displays your active Claude Code subscription plan!**

#### ğŸ¯ What It Does

The Plan Detection System automatically identifies which Claude Code plan you're using:
- ğŸ†“ **Free Plan** - Basic features, limited usage (100K context tokens)
- â­ **Pro Plan** - Full features, extended context (200K tokens), background tasks
- ğŸ‘¥ **Team Plan** - Pro + team collaboration, shared workspaces
- ğŸ¢ **Enterprise Plan** - All features, SLA guarantee, custom deployment

#### âš¡ Key Features

**Automatic Detection:**
- âœ… Runs automatically on every session start
- âœ… Shows plan info in session initialization
- âœ… Caches results for 24 hours
- âœ… Updates when cache expires

**Detection Methods:**
- Analyzes Claude config files (`~/.claude/config.json`)
- Checks available features (background tasks, team collaboration, etc.)
- Validates context limits and API quotas
- Monitors feature flags and system capabilities

**Output Formats:**
```bash
# Full display with features and limits
bash ~/.claude/memory/scripts/plan-detector.sh

# Summary only (for session start)
bash ~/.claude/memory/scripts/plan-detector.sh --summary

# JSON output (for programmatic use)
bash ~/.claude/memory/scripts/plan-detector.sh --json
```

#### ğŸ“Š Example Output

**Session Start (Summary):**
```
[6/6] Detecting active Claude Code plan...
âœ… Active Plan: â­ Pro Plan | Limits: 200K tokens
```

**Full Display:**
```
================================================================================
ğŸ“‹ CLAUDE CODE SUBSCRIPTION PLAN
================================================================================

ğŸ¯ Active Plan: â­ Pro Plan
ğŸ“… Detected: 2026-02-16
âœ… Status: ACTIVE

ğŸ“¦ Features:
   âœ“ Full features
   âœ“ Priority support
   âœ“ Extended context
   âœ“ Background tasks

âš™ï¸ Limits:
   â€¢ Max Context: 200K tokens
   â€¢ Max Requests: Unlimited

================================================================================
```

#### ğŸ”§ Technical Details

**Files:**
- `~/.claude/memory/scripts/plan-detector.py` - Python detection logic
- `~/.claude/memory/scripts/plan-detector.sh` - Shell wrapper
- `~/.claude/memory/docs/plan-detection.md` - Full documentation
- `~/.claude/memory/.plan-cache.json` - Cached plan info

**Integration Points:**
1. **Session Start**: Auto-runs in `session-start.sh`
2. **Dashboard**: Displays plan in health check
3. **Context Monitor**: Adjusts limits based on detected plan
4. **Optimization**: Enables plan-specific optimizations

**Cache System:**
- Location: `~/.claude/memory/.plan-cache.json`
- Validity: 24 hours
- Auto-refresh when stale
- Clear cache: `rm ~/.claude/memory/.plan-cache.json`

#### ğŸ’¡ Use Cases

1. **Context Optimization**: Automatically adjust context usage thresholds based on plan limits
2. **Feature Gating**: Enable/disable features based on plan availability
3. **Cost Tracking**: Different cost models for different plans
4. **Support**: Provide plan-specific help and documentation
5. **Upgrade Prompts**: Suggest upgrades when hitting limits

#### ğŸ“– Documentation

**Full documentation:** `~/.claude/memory/docs/plan-detection.md`

Covers:
- Detailed detection methods
- Configuration options
- Troubleshooting guide
- Python API usage
- Integration examples

---

### ğŸ¤– Complete Automation System Dashboard (v2.17.1) **NEW!**

**100% Automation Coverage - The Missing Piece!**

This is what Claude Insight was built for - **complete real-time visibility** into your entire automation framework. Track every daemon, every policy, every optimization strategy, and every automation component defined in CLAUDE.md.

#### ğŸ¯ Why This Exists
The Claude Memory System v2.2.0 defines extensive automation (9 daemons, 14 policies, 15 optimization strategies). But **how do you know it's working?** This dashboard gives you the answer.

#### ğŸ“Š 9 Comprehensive Cards

**1. Session Start Recommendations**
- Model recommended (Haiku/Sonnet/Opus)
- Context usage percentage
- Skills recommended (count + list)
- Agents recommended (count + list)
- Context status (OK/WARNING/CRITICAL)
- Optimizations needed

**2. 9th Daemon - Auto-Recommendation**
- Status (Running/Stopped/Unknown)
- Process ID (PID)
- Recommendations generated count
- Last activity timestamp
- Description and interval

**3. Task Breakdown Enforcement**
- Total analyses performed
- Tasks required (complexity >= 3)
- Phases required (complexity >= 6)
- Complexity distribution chart
- Recent breakdown logs

**4. Task Auto-Tracker**
- Total tasks tracked
- Auto-updates count
- Manual updates count
- Completion rate percentage
- Average progress updates

**5. Skill Selection Statistics**
- Total skill invocations
- Auto-selected count
- Manual invoked count
- Top 5 skills used
- Skills by name breakdown

**6. Agent Invocation Statistics**
- Total agent invocations
- Parallel agents count
- Sequential agents count
- Top 5 agents used
- Agents by type breakdown

**7. Plan Mode Suggestions**
- Total suggestions made
- Auto-entered count (mandatory)
- User approved count
- User declined count
- Average complexity score

**8. Tool Optimization (15 Strategies)**
- Total optimizations applied
- Tokens saved (estimated)
- Savings percentage (target: 60-80%)
- Top 5 optimization strategies
- Strategy-by-strategy breakdown:
  - Response Compression
  - Diff-Based Editing
  - Smart Tool Selection (tree vs Glob/Grep)
  - Smart Grep Optimization
  - Tiered Caching (Hot/Warm/Cold)
  - Session State (Aggressive)
  - Incremental Updates
  - File Type Optimization
  - Lazy Context Loading
  - Smart File Summarization
  - Batch File Operations
  - MCP Response Filtering
  - Conversation Pruning
  - AST-Based Code Navigation
  - Parallel Tool Calls

**9. Coding Standards Enforcement**
- Total enforcements
- Violations detected
- Auto-fixes applied
- Standards by type:
  - Java Spring Boot
  - Config Server
  - Secret Management
  - API Design
  - Database

#### âš¡ Real-Time Features
- **Auto-refresh**: Dashboard updates every 30 seconds
- **Live data**: All metrics pulled from memory system logs
- **No setup**: Works out-of-the-box with existing automation
- **Zero overhead**: Read-only monitoring with no performance impact

#### ğŸ¨ Professional UI
- Beautiful metric cards with color coding
- Status badges (Running/Stopped/Unknown)
- Clean, modern layout
- Responsive design
- Easy navigation

#### ğŸ“ Access
- **URL**: `/automation-dashboard`
- **Navigation**: Click "Automation" in menu (robot icon)
- **Requirements**: Claude Memory System v2.2.0 installed

#### ğŸ¯ Coverage Before vs After

**Before v2.17.1:**
- 8 daemons tracked (missing 9th daemon)
- Basic policy tracking
- Context optimization tracked
- **Coverage: ~50%**

**After v2.17.1:**
- âœ… All 9 daemons tracked
- âœ… Session start recommendations
- âœ… Task breakdown enforcement
- âœ… Task auto-tracker
- âœ… Skill/agent selection
- âœ… Plan mode suggestions
- âœ… 15 optimization strategies
- âœ… Standards enforcement
- **Coverage: 100%** ğŸ¯

---

### Memory System Integration (v2.12)

#### ğŸ”§ 8-9 Daemon Health Monitoring
Real-time status of all automation daemons:

| Daemon | Interval | Purpose |
|--------|----------|---------|
| **context-daemon** | 10 min | Monitor context usage |
| **session-auto-save-daemon** | 15 min | Auto-save sessions |
| **preference-auto-tracker** | 20 min | Learn user preferences |
| **skill-auto-suggester** | 5 min | Suggest relevant skills |
| **commit-daemon** | 15 min | Auto-commit changes |
| **session-pruning-daemon** | Monthly | Clean old sessions |
| **pattern-detection-daemon** | Monthly | Detect cross-project patterns |
| **failure-prevention-daemon** | 6 hours | Learn from failures |
| **token-optimization-daemon** | 5 min | Continuous optimization (optional) |

**Monitoring Features:**
- âœ… PID tracking for each daemon
- ğŸ“Š Last activity timestamps
- ğŸ”´ Status indicators (running, stopped, error, not_started)
- ğŸ”„ Auto-restart detection
- ğŸ“ˆ Uptime statistics

#### ğŸ“œ 10 Policy Enforcement Tracking
Monitor all active policies in real-time:

1. **Core Skills Mandate**: Enforced execution order
2. **Model Selection**: Haiku/Sonnet/Opus usage tracking
3. **Proactive Consultation**: User preference learning
4. **Session Memory**: Auto-save and restore
5. **Failure Prevention**: Auto-fix patterns
6. **File Management**: Smart file operations
7. **Git Auto-Commit**: Automatic commits
8. **User Preferences**: Preference storage
9. **Session Pruning**: Old session cleanup
10. **Context Integration**: Context + session sync

**Tracking Features:**
- ğŸ“ˆ Enforcement metrics (times each policy applied)
- ğŸ“ Recent activity (last 10 enforcement actions)
- âœ… Compliance status

#### ğŸ’¾ Context Optimization Metrics
- ğŸ“Š **Cache Statistics**: Cache size and file count
- ğŸ¯ **Cache Hit Rate**: Successful cache retrievals
- ğŸ’° **Token Savings**: Estimated tokens saved (~500 per hit)
- âš¡ **Optimizations Applied**: Total optimization count
- ğŸ“ˆ **Efficiency Score**: Overall cache effectiveness

#### ğŸ›¡ï¸ Failure Prevention Statistics
- **Failures Prevented**: Total failures caught
- **Auto-Fixes Applied**: Automatic corrections made
- **Patterns Learned**: Knowledge base size (15+ initial patterns)
- **By Tool**: Breakdown by tool (Bash, Edit, Read, Grep, Git)
- **Recent Fixes**: Last 10 auto-fix applications
- **Success Rate**: Percentage of prevented failures

#### ğŸ“Š Model Selection Distribution
- **Haiku Usage**: Fast searches and reads (target: 35-45%)
- **Sonnet Usage**: Implementation and editing (target: 50-60%)
- **Opus Usage**: Architecture and planning (target: 3-8%)
- **Compliance**: Whether usage matches policy targets
- **Cost Impact**: Savings from correct model selection

#### ğŸ’¾ Session Memory Statistics
- **Total Sessions**: All project sessions
- **Active Sessions**: Modified in last 7 days
- **Pruned Sessions**: Cleaned up sessions
- **Total Size**: Storage used by sessions (MB)
- **Session Health**: Storage efficiency

#### ğŸ“ Git Auto-Commit Activity
- **Total Commits**: All auto-commits made
- **Commits Today**: Today's commit count
- **Commits This Week**: Weekly commit activity
- **Recent Commits**: Last 10 commit messages
- **Commit Frequency**: Average commits per day

#### ğŸ¥ System Health Score
Weighted health calculation (0-100):
- ğŸ”§ **Daemon Health** (40%): Running daemon percentage
- ğŸš¨ **Critical Health** (30%): Critical daemon status
- ğŸ“‹ **Policy Activity** (20%): Recent policy usage
- ğŸ’¾ **Cache Efficiency** (10%): Cache effectiveness

**Health Status:**
- âœ… **Healthy** (80+)
- âš ï¸ **Degraded** (60-79)
- ğŸ”´ **Critical** (<60)

---

### Performance Profiling (v2.14)

#### ğŸ“Š Real-Time Performance Monitoring
- **Operation Tracking**: Monitor all tool operations (Read, Write, Grep, Bash, Edit)
- **Response Time Analytics**: Track average, median, p95, and p99 percentiles
- **Slow Operations Detection**: Automatically identify operations >2 seconds
- **Bottleneck Analysis**: Top 10 bottlenecks per tool type
- **Resource Usage**: Track memory and CPU consumption

#### ğŸ¯ Performance Metrics Dashboard
- **Total Operations**: Count of all operations tracked (last 24 hours)
- **Average Response Time**: Mean duration across all operations
- **Slow Operations Counter**: Operations exceeding threshold
- **Optimization Rate**: Percentage of operations optimized
- **Interactive Charts**: Response time trends and operations by tool (Chart.js)

#### ğŸ¤– AI-Powered Recommendations
- **File Operation Analysis**: Detect large files read without offset/limit optimization
- **Repetitive Operation Detection**: Identify caching opportunities for frequently accessed files
- **Bash Command Analysis**: Flag slow or inefficient shell commands
- **Grep Optimization**: Detect missing head_limit parameters
- **Performance Regression Detection**: Compare current vs. 7-day historical trends

#### ğŸ’¾ Data Persistence
- **In-Memory Ring Buffers**: 1,000 recent operations + 100 slow operations for fast access
- **Daily JSON Files**: Automatic persistence to `~/.claude/memory/performance/`
- **Historical Trends**: 7-day, 30-day, 90-day trend analysis
- **Auto-Refresh**: Dashboard updates every 30 seconds via AJAX

#### ğŸ”§ Integration Features
- **API Endpoints**: 6 RESTful endpoints for stats, bottlenecks, trends, and recommendations
- **WebSocket Support**: Real-time updates via SocketIO
- **Export Capabilities**: CSV/JSON export for performance data
- **Configurable Thresholds**: Customize slow operation detection (default: 2000ms)

---

### Two-Factor Authentication (2FA) (v2.16)

#### ğŸ” Security Enhancement
- **TOTP-Based Authentication**: Google Authenticator, Authy, Microsoft Authenticator support
- **QR Code Setup**: Easy scanning for quick configuration
- **Manual Secret Entry**: Alternative setup method with copyable secret key
- **6-Digit Verification**: Standard TOTP code verification

#### ğŸ”‘ Backup & Recovery
- **10 Backup Codes**: One-time use recovery codes generated at setup
- **Download/Print/Copy**: Multiple options to save backup codes securely
- **Activity Logging**: Track all 2FA-related activities (enable, disable, login attempts)
- **IP Address Tracking**: Monitor login locations and security events

#### ğŸ“Š Management Features
- **Enable/Disable Toggle**: Easy on/off control with verification
- **Activity History**: View recent 2FA events with timestamps and status
- **Status Badge**: Visual indicator of 2FA configuration status

---

### Custom Dashboard Builder (v2.16)

#### ğŸ¨ Drag-and-Drop Interface
- **GridStack.js Integration**: Professional grid layout with responsive design
- **Multiple Dashboards**: Create and manage unlimited custom dashboards
- **Grid Customization**: Adjust columns (4/6/12) and spacing (tight/normal/loose)
- **Save/Load Layouts**: Persist dashboard configurations

#### ğŸ“¦ Widget Library
**Metrics Widgets:**
- Context Usage card
- Daemon Status card
- Policy Hits card

**Chart Widgets:**
- Line Chart (trends)
- Bar Chart (distribution)
- Pie Chart (proportions)

**Activity Widgets:**
- Activity Feed (real-time events)
- Error Log (error tracking)
- Alert List (active alerts)
- Alert Timeline (historical alerts)

#### ğŸ”§ Advanced Features
- **Export/Import**: Share dashboards as JSON files
- **Widget Configuration**: Customize individual widget settings
- **Auto-Save**: Automatic dashboard persistence
- **Dashboard Manager**: Browse, load, and delete saved dashboards

---

### Multi-language Support (i18n) (v2.16)

#### ğŸŒ Supported Languages
- **English** (en) - Default
- **Hindi** (à¤¹à¤¿à¤¨à¥à¤¦à¥€) - Full translation
- **Spanish** (EspaÃ±ol) - Full translation
- **French** (FranÃ§ais) - Core translations
- **German** (Deutsch) - Core translations

#### ğŸ”„ Translation Features
- **Dynamic Switching**: Change language without page reload (optional)
- **LocalStorage Persistence**: Remember user's language preference
- **Automatic Detection**: Can detect browser language
- **Navigation Translation**: All menu items translated
- **Common Terms**: Buttons, labels, messages translated
- **Date/Number Formatting**: Locale-specific formatting

#### ğŸ› ï¸ i18n System
- **JSON-Based Translations**: Structured translation files per language
- **Key-Path Access**: Nested translation keys (e.g., `common.save`)
- **Fallback Mechanism**: English fallback for missing translations
- **Custom Event**: `languageChanged` event for dynamic updates

---

### Plugin System (v2.16)

#### ğŸ”Œ Plugin Management
- **Install/Uninstall**: Easy plugin lifecycle management
- **Enable/Disable**: Toggle plugins without uninstalling
- **Version Control**: Track plugin versions and updates
- **Dependency Checking**: Validate plugin compatibility

#### ğŸª Plugin Marketplace
**Available Plugin Categories:**
- **Integrations**: Slack, Prometheus, external tools
- **Widgets**: Custom dashboard widgets
- **Analytics**: Advanced AI insights
- **Utilities**: Backup, automation tools

**Marketplace Features:**
- Search and filter plugins
- Category-based browsing
- Download count and ratings
- Author information

#### âš™ï¸ Plugin System Settings
- **Auto-Update**: Automatically update installed plugins
- **External Sources**: Allow custom plugin installation
- **Security Validation**: Plugin verification before installation

---

### Grafana & Prometheus Integration (v2.16)

#### ğŸ”¥ Prometheus Metrics Endpoint
**Available Metrics:**
- `context_usage_percent` - Context usage percentage (gauge)
- `daemon_status` - Daemon health (gauge, 0=down, 1=up)
- `policy_hits_total` - Total policy hits (counter)
- `error_count_total` - Total errors (counter)
- `session_count_total` - Total sessions (counter)

**Endpoint Configuration:**
```yaml
scrape_configs:
  - job_name: 'claude-insight'
    static_configs:
      - targets: ['localhost:5000']
    metrics_path: '/metrics'
    scrape_interval: 15s
```

#### ğŸ“Š Grafana Dashboards
**Pre-built Dashboard Templates:**
- **System Overview**: Context, daemons, policies dashboard
- **Performance**: Response times and bottleneck analysis
- **Alerts**: Alert history and trend visualization

**Features:**
- Download dashboard JSON files
- Import directly into Grafana
- Customizable panels and queries
- Real-time metric visualization

---

### Advanced Notification Channels (v2.16)

#### ğŸ“± Slack Integration
- **Webhook Configuration**: Easy webhook URL setup
- **Channel Customization**: Specify target channel (#alerts)
- **Username Customization**: Custom bot name
- **Test Notifications**: Verify configuration before production use

#### ğŸ’¬ Discord Integration
- **Webhook Support**: Discord webhook URL integration
- **Bot Customization**: Custom username for notifications
- **Rich Embeds**: Formatted notification messages
- **Test Functionality**: Validate webhook before deployment

#### ğŸ“Ÿ PagerDuty Integration
- **Integration Key**: Secure API key configuration
- **Severity Mapping**: Map alert levels to PagerDuty severities
- **Incident Creation**: Automatic incident creation on alerts
- **Test Alerts**: Send test incidents to verify setup

#### ğŸ”” Notification Rules
**Event-Based Routing:**
- Critical Alerts â†’ All channels
- Daemon Down â†’ Slack + PagerDuty
- High Context Usage â†’ Slack + Discord

**Configuration:**
- Per-event channel selection
- Multiple channel support
- Custom routing rules

---

### Advanced Themes & Customization (v2.15)

#### ğŸ¨ 14 Preset Themes
**6 Original Themes:**
- Default (Purple gradient)
- Dark (High contrast slate)
- Blue (Ocean tones)
- Purple (Royal accents)
- Green (Natural feel)
- Orange (Energetic vibe)

**8 NEW Themes:**
- **Cyberpunk**: Neon pink & cyan with dark background
- **Ocean**: Deep blue with wave accents
- **Forest**: Deep green with nature feel
- **Sunset**: Warm red to golden yellow gradient
- **Nord**: Arctic blue with cool accents
- **Tokyo Night**: Modern dark with blue & purple
- **Dracula**: Popular dark with purple & pink
- **Monokai**: Classic dark with vibrant colors

#### ğŸ¨ Custom Theme Builder
**Color Customization** (8 color pickers):
- Primary & Secondary colors
- Background & Text colors
- Success, Warning, Danger, Info colors
- Live preview with instant updates

**Typography Customization**:
- **11 Font Families**: Inter, Roboto, Open Sans, Poppins, Montserrat, Lato, Nunito, Source Sans Pro, JetBrains Mono, Fira Code
- **Font Sizes**: 12px (Small) to 18px (Extra Large)
- **Font Weights**: Light (300) to Bold (700)

**Theme Management**:
- âœ… Save custom themes to localStorage
- âœ… Export themes as JSON files
- âœ… Import themes from JSON files
- âœ… Real-time preview before applying
- âœ… Persistent across sessions

---

### Advanced Search & Filtering (v2.15)

#### ğŸ” Global Search Engine
**Search Across 7 Data Sources:**
- ğŸ“‹ **Logs**: System logs and performance data
- ğŸ“… **Sessions**: Session history and activity
- ğŸ“œ **Policies**: Policy definitions and enforcement
- âš™ï¸ **Daemons**: Daemon status and health
- âš¡ **Performance**: Performance metrics and profiling data
- ğŸš¨ **Alerts**: Alert history and notifications
- ğŸ§© **Widgets**: Widget configurations

#### ğŸ¯ Advanced Filtering
- **Data Source**: Multi-select from 7 sources
- **Date Range**: Today, Yesterday, Last 7/30/90 days, Custom range
- **Severity Levels**: Critical, High, Medium, Low, Success
- **Tags**: Dynamic tag filtering
- **Sort Options**: Relevance, Date (newest/oldest), Severity, Source
- **Result Limits**: 50, 100, 200, 500, or All results

#### ğŸ’¾ Saved Searches & History
- **Save Searches**: Store frequently-used queries with filters
- **Search History**: Auto-save last 50 searches
- **Replay Searches**: One-click replay of previous searches
- **Export Searches**: Share search configurations

#### ğŸ“¤ Export Results
- **CSV Export**: With proper headers and formatting
- **JSON Export**: With metadata and timestamps
- **Excel Export**: Styled workbook with headers
- **Bulk Actions**: Export selected or all results

#### ğŸš€ Search Features
- **Regex Mode**: Pattern matching support
- **Case-Insensitive**: Smart search matching
- **Highlighting**: Matched terms highlighted in results
- **Pagination**: Navigate through large result sets
- **Real-time Stats**: Search time, result count, sources searched

---

### ML Model Training (v2.15)

#### ğŸ§  5-Step Training Wizard
**Step 1: Model Selection** (6 categories, 15+ models):
- **Anomaly Detection**: Isolation Forest, LOF, One-Class SVM
- **Time Series Forecasting**: ARIMA, Prophet, LSTM
- **Classification**: Random Forest, XGBoost, Neural Networks
- **Regression**: Linear, Ridge/Lasso, SVR
- **Clustering**: K-Means, DBSCAN, Hierarchical
- **Custom Models**: Upload PyTorch/TensorFlow/Scikit-learn models

**Step 2: Data Upload** (3 sources):
- **File Upload**: Drag & drop CSV, JSON, Excel (max 100MB)
- **System Data**: Logs, metrics, alerts, sessions, performance
- **API Connection**: Connect to external data sources with auth

**Step 3: Configuration**:
- **Train/Test Split**: Adjustable slider (50-90%)
- **Cross-Validation**: 3-fold, 5-fold, 10-fold
- **Auto-Optimization**: Grid Search, Random Search, Bayesian Optimization
- **Hyperparameter Tuning**: Interactive parameter configuration

**Step 4: Training** (Real-time):
- **Live Progress**: Epoch counter and progress bar
- **Training Metrics**: Loss, accuracy, validation metrics
- **Loss Curve**: Chart.js visualization
- **Training Logs**: Terminal-style console with color coding
- **Time Tracking**: Elapsed time and ETA

**Step 5: Evaluation**:
- **Performance Metrics**: Accuracy, Precision, Recall, F1-Score
- **Confusion Matrix**: Heatmap visualization
- **ROC Curve**: With AUC score
- **Feature Importance**: Ranked feature contributions

#### ğŸ’¾ Model Management
- **Save Models**: With name, description, tags
- **Export Models**: Download trained models
- **Deploy Models**: Deploy to production
- **Model Comparison**: Compare multiple models side-by-side
- **Saved Models List**: Quick access to trained models

#### ğŸ“Š Visualization
- **Chart.js Integration**: Beautiful, responsive charts
- **Real-time Updates**: Live training progress
- **Interactive Charts**: Zoom, pan, export charts
- **Professional Design**: Clean, modern UI

---

### Debugging & Troubleshooting Tools (v2.15)

#### ğŸ“‹ Real-time Log Streaming
- **Start/Stop/Clear Controls**: Full control over log stream
- **Log Filters**:
  - Level: ERROR, WARN, INFO, DEBUG
  - Source: Daemon, API, Database, System
  - Search: Full-text search within logs
- **Terminal Console**: Dark theme, color-coded levels
- **Live Statistics**: Total logs, errors, warnings, info count
- **Auto-scroll**: Automatic scroll to latest entries
- **Performance**: Keep last 100 entries, ring buffer

#### âš™ï¸ Daemon Health Diagnostics
**Visual Daemon Cards** showing:
- Status (running/stopped) with color indicators
- Process ID (PID)
- CPU Usage percentage
- Memory Usage (MB)
- Uptime display

**Actions per Daemon**:
- Restart daemon
- View daemon logs
- Auto-refresh capability
- Detailed diagnostics

#### âš¡ Performance Profiling
**API Endpoint Performance**:
- Endpoint path
- Average response time (ms)
- Total call count
- Status badge (success/warning/danger)

**Database Query Metrics**:
- Query preview
- Average execution time
- Call count
- Impact level calculation

**Memory Monitor**:
- Heap used (with progress bar)
- Heap total
- External memory
- Color-coded warnings (green/yellow/red)

#### ğŸ› Error Trace Analyzer
**Error Statistics**:
- Total errors count
- 24-hour trend (+/- percentage)
- Auto-resolved count

**Error Types Table**:
- Error type classification
- Occurrence count
- Trend indicators (increasing/stable/decreasing)
- Quick action buttons

**AI-Powered Quick Fixes**:
- Smart recommendations based on patterns
- One-click apply functionality
- Success tracking
- Fix history

#### ğŸ› ï¸ Sidebar Tools
- **System Snapshot**: Capture/restore system state
- **Quick Actions**: Health check, restart daemons, clear cache
- **Debug Mode**: Enable verbose logging and stack traces
- **Emergency Shutdown**: Safe shutdown with confirmation

---

### Alert Routing & Escalation (v2.11)

#### ğŸš¨ Custom Routing Rules
Route alerts based on multiple criteria:
- **Severity**: Critical, warning, info
- **Metric Type**: CPU, memory, context, daemon, policy
- **Time-based**: Business hours, after hours, weekends
- **Tag-based**: Environment, service, component

#### ğŸ“¢ Multi-Level Escalation
- **Up to 3+ escalation levels** with configurable timeouts
- **Automatic escalation** if alerts not acknowledged
- **On-call schedules** with weekly rotation
- **Auto-calculation** of current on-call personnel

#### ğŸ“¬ Notification Channels
- **Email**: SMTP integration (Gmail, Outlook, custom)
- **SMS**: Twilio-powered text notifications
- **Slack**: Webhook integration
- **Custom Webhooks**: Integrate with any system

#### ğŸ”„ Alert Lifecycle
```
Create â†’ Route â†’ Notify â†’ Escalate â†’ Acknowledge â†’ Resolve
```

---

### Predictive Analytics (v2.10)

#### ğŸ“ˆ 5 Forecasting Algorithms
1. **Linear Regression**: Trend-based prediction
2. **Exponential Smoothing**: Weighted recent data
3. **Moving Average**: Smoothed historical average
4. **Seasonal Analysis**: Pattern-based forecasting
5. **Ensemble Model**: Combined algorithm consensus

#### ğŸ”® Time Series Forecasting
- **Predict future metric values** with confidence intervals
- **Forecast horizons**: 24 hours, 72 hours, 7 days (customizable)
- **Confidence levels**: 95%, 90%, 80%
- **Trend detection**: Upward, downward, stable, volatile

#### âš ï¸ Capacity Planning
- **Breach prediction**: Identify when thresholds will be exceeded
- **Time-to-breach**: Calculate days/hours until capacity limit
- **Proactive alerts**: Warn before issues occur
- **Resource recommendations**: Suggest optimization actions

#### ğŸ§  AI Insights
- **Trend analysis**: Identify long-term patterns
- **Pattern recognition**: Detect recurring behaviors
- **Recommendations**: AI-generated optimization suggestions

---

### AI Anomaly Detection (v2.9)

#### ğŸ¤– 6 ML Algorithms
1. **Z-Score Analysis**: Statistical outlier detection
2. **IQR Method**: Interquartile range analysis
3. **Moving Average**: Deviation from rolling average
4. **Exponential Smoothing**: Weighted deviation detection
5. **Spike Detection**: Sudden value changes
6. **Trend Analysis**: Long-term pattern deviations

#### ğŸ¯ Ensemble Detection
- **Anomaly triggered** when 2+ algorithms agree
- **Confidence scoring**: 0-100% based on algorithm consensus
- **Severity classification**: Critical, high, medium, low
- **False positive reduction**: Through ensemble approach

#### ğŸ’¡ AI Insights
- **Pattern-based insights**: "Value 45% above rolling average"
- **Recommendations**: "Consider scaling resources"
- **Historical context**: Compare to similar patterns

#### ğŸ“Š Anomaly Management
- **Acknowledge**: Mark anomaly as seen
- **Resolve**: Close with resolution notes
- **Audit trail**: Full anomaly lifecycle tracking
- **Analytics**: Anomaly frequency and trends

---

### Community Marketplace (v2.7-v2.13)

#### ğŸ¨ Advanced Widget Builder
- **Drag-and-drop editor**: Visual widget creation
- **15+ components**: Charts, metrics, tables, gauges, dashboards
- **Live preview**: Real-time widget preview canvas
- **Code editor**: HTML, CSS, JavaScript with syntax highlighting
- **Template library**: Pre-built widget templates

#### ğŸŒ Widget Marketplace
- **Share widgets**: Publish to community marketplace
- **Browse catalog**: Discover widgets by category
- **5-star rating system**: Rate and review widgets
- **Download tracking**: Monitor widget popularity
- **Author profiles**: Track creator contributions

---

### Widget Collaboration (v2.13)

#### ğŸ¤ Real-time Collaborative Editing
- **Multi-user editing**: Build widgets together in real-time
- **Live cursors**: See other users' cursors with names
- **Operation sync**: Instant synchronization across users
- **Line locking**: Prevent conflicts (5-min timeout)
- **Collaboration chat**: Built-in messaging
- **Session management**: 2-hour sessions with auto-cleanup
- **User colors**: 8 unique colors for visual identification
- **Auto-reconnect**: Seamless reconnection handling

#### ğŸ“š Version Control & History
- **Semantic versioning**: Professional version management (major.minor.patch)
- **Version timeline**: Visual history of all changes
- **Diff viewer**: Line-by-line comparison with syntax highlighting
- **Rollback**: Restore previous versions with one click
- **Commit messages**: Descriptive change logs
- **Auto-versioning**: Automatic version creation on edits
- **Component tracking**: Track HTML/CSS/JS changes separately

#### ğŸ’¬ Comments & Discussions
- **Threaded discussions**: Multi-level comment threads
- **@Mentions**: Tag and notify other users
- **Emoji reactions**: ğŸ‘, â¤ï¸, etc.
- **Real-time notifications**: Instant mention alerts
- **Edit/Delete**: Full comment management
- **Moderation**: Soft delete with audit trail
- **XSS protection**: Sanitized content for security

#### â­ Featured & Trending Widgets
- **Trending score algorithm**: Weighted scoring
  - 40% Downloads
  - 30% Ratings
  - 20% Comments
  - 10% Recency
- **Featured carousel**: Admin-curated highlights
- **Multi-period trending**: 24h, 7d, 30d views
- **Rank indicators**: 1st/2nd/3rd badges with trend arrows
- **Smart caching**: 60-minute cache for performance
- **Category filters**: Browse by type and timeframe

---

## Quick Start

### Get Started in 5 Minutes

#### 1. Clone the Repository
```bash
git clone https://github.com/piyushmakhija28/claude-insight.git
cd claude-insight
```

#### 2. Install Dependencies
```bash
pip install -r requirements.txt
```

**Packages installed (14 total):**
- Flask 3.0 + SocketIO 5.3.6 (Web framework)
- psutil 5.9.8 (Process monitoring)
- NumPy 1.24.3 (Statistical analysis)
- Twilio 8.10.0 (SMS notifications)
- bcrypt, openpyxl, reportlab, flasgger, etc.

#### 3. Run the Application
```bash
python app.py
```

**Access the dashboard:**
- URL: http://localhost:5000
- Username: `admin`
- Password: `admin`

#### 4. Deploy Memory System Files (Optional)
```bash
# Windows (PowerShell)
xcopy /E /I /Y claude-memory-system\* %USERPROFILE%\.claude\memory\

# Linux/Mac
cp -r claude-memory-system/* ~/.claude/memory/
```

**Start the daemons:**
```bash
# Windows
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1

# Linux/Mac
bash ~/.claude/memory/startup-hook.sh
```

---

## What's Included

### Memory System Files (320+ files)

#### ğŸ“– Complete Documentation
- **MASTER-README.md**: Complete consolidated guide (1,500+ lines)
  - 14 major sections with 100+ indexed subsections
  - All policies, Java standards, optimization strategies
  - Security best practices, database standards
  - Complete command reference

#### ğŸ”§ Daemon Scripts (8-9)
- `context-daemon.py` - Monitor context usage (every 10 min)
- `session-auto-save-daemon.py` - Auto-save sessions (every 15 min)
- `preference-auto-tracker.py` - Learn preferences (every 20 min)
- `skill-auto-suggester.py` - Suggest skills (every 5 min)
- `commit-daemon.py` - Auto-commit changes (on triggers)
- `session-pruning-daemon.py` - Clean old sessions (monthly)
- `pattern-detection-daemon.py` - Detect patterns (monthly)
- `failure-prevention-daemon.py` - Learn from failures (every 6 hours)
- `token-optimization-daemon.py` - Continuous optimization (optional)

#### ğŸ¤– Automation Scripts (81)
**Context Optimization:**
- `context-cache.py` - Tiered caching (hot/warm/cold)
- `context-estimator.py` - Token estimation
- `context-extractor.py` - Essential info extraction
- `pre-execution-optimizer.py` - Pre-tool optimization

**Token Optimization:**
- `ast-code-navigator.py` - AST-based code navigation
- `file-type-optimizer.py` - File-type specific optimization
- `smart-file-summarizer.py` - Intelligent summarization
- `tiered-cache.py` - Multi-tier caching

**Failure Prevention:**
- `failure-detector-v2.py` - Pattern detection
- `failure-learner.py` - Knowledge base learning
- `failure-solution-learner.py` - Solution tracking
- `pre-execution-checker.py` - Pre-tool validation

**Model Selection:**
- `model-selection-enforcer.py` - Model recommendation
- `model-selection-monitor.py` - Usage tracking

**Policy Enforcement:**
- `core-skills-enforcer.py` - Skills enforcement
- `consultation-tracker.py` - User preference tracking

**Session Management:**
- `auto-save-session.py` - Session auto-save
- `session-state.py` - External memory management
- `archive-old-sessions.py` - Session archiving

**Git Automation:**
- `auto-commit.py` - Automatic commits
- `auto-commit-detector.py` - Commit triggers
- `trigger-auto-commit.py` - Trigger detection

**And 60+ more automation scripts!**

#### ğŸ“œ Policy Files (12 active + documentation)
1. `core-skills-mandate.md` - Execution order enforcement
2. `model-selection-enforcement.md` - Cost optimization
3. `common-failures-prevention.md` - Self-learning fixes
4. `CONTEXT-SESSION-INTEGRATION.md` - Memory management
5. `file-management-policy.md` - File operations
6. `git-auto-commit-policy.md` - Git automation
7. `proactive-consultation-policy.md` - User collaboration
8. `session-memory-policy.md` - Persistent memory
9. `session-pruning-policy.md` - Session cleanup
10. `user-preferences-policy.md` - Preference learning
11. `cross-project-patterns-policy.md` - Pattern detection
12. `test-case-policy.md` - Testing standards

**Documentation (38 files):**
- Quick start guides
- Implementation summaries
- Troubleshooting guides
- API references
- System overviews

#### â˜• Java Spring Boot Documentation (10 files in `docs/`)
- `java-project-structure.md` - Package structure and conventions
- `spring-cloud-config.md` - Config server setup
- `secret-management.md` - Secret management details
- `api-design-standards.md` - REST API conventions
- `error-handling-standards.md` - Exception patterns
- `security-best-practices.md` - Security guidelines
- `logging-standards.md` - Logging best practices
- `database-standards.md` - Database patterns
- `java-agent-strategy.md` - Agent collaboration
- `git-and-context.md` - Git rules and context

---

## Claude Memory System Overview

The Claude Memory System v2.2.0 is a comprehensive automation framework that makes Claude Code intelligent, efficient, and reliable.

### Core Benefits

ğŸš€ **60-80% Token Savings**
- Intelligent caching (hot/warm/cold tiers)
- Smart file summarization
- Diff-based editing
- AST-based code navigation
- 15 optimization strategies working together

ğŸ›¡ï¸ **Self-Learning Failure Prevention**
- Same error never happens twice
- 15+ initial failure patterns
- Auto-fix confidence scoring
- 900-2900 tokens saved per prevented failure

ğŸ¯ **Automatic Model Selection**
- Optimal cost/performance balance
- Haiku for search (35-45%)
- Sonnet for implementation (50-60%)
- Opus for architecture (3-8%)

ğŸ’¾ **100% Local Persistent Memory**
- Full session continuity across restarts
- Protected session files (never deleted)
- Automatic session save every 15 min
- Cross-project pattern learning

ğŸ‘¤ **User Preference Learning**
- Stops asking repeated questions
- Tracks decision patterns
- Project-specific preferences
- Transparent consultation

ğŸ¤– **8-9 Background Daemons**
- Continuous optimization
- Zero manual intervention
- Auto-start on system login
- Health monitoring

â˜• **Java Spring Boot Standards**
- Enforced best practices
- Package structure conventions
- API response patterns
- Security guidelines

---

## Complete Documentation

### Documentation Location

All documentation is in the root directory:

ğŸ“– **[MASTER-README.md](./claude-memory-system/MASTER-README.md)** - Complete consolidated guide
- 14 major sections with 100+ indexed subsections
- All policies, Java standards, optimization strategies
- Security best practices, database standards
- Complete command reference

ğŸ“ **[docs/](./claude-memory-system/docs/)** - Java Spring Boot Documentation (10 files)
- Project structure, patterns, conventions
- Spring Cloud Config, Secret Management
- API design, error handling, security
- Logging standards, database optimization

ğŸ“œ **[Policies Documentation](./claude-memory-system/)** - System Policies (12 files)
- Core skills mandate, model selection
- Failure prevention, context optimization
- Session memory, user preferences
- Git auto-commit, testing strategies

### Quick Links

| Resource | Link |
|----------|------|
| **Complete Documentation** | [claude-memory-system/MASTER-README.md](./claude-memory-system/MASTER-README.md) |
| **Java Standards** | [claude-memory-system/docs/](./claude-memory-system/docs/) |
| **Quick Start** | [claude-memory-system/MEMORY-SYSTEM-QUICKSTART.md](./claude-memory-system/MEMORY-SYSTEM-QUICKSTART.md) |
| **Architecture** | [claude-memory-system/HOW-IT-WORKS.md](./claude-memory-system/HOW-IT-WORKS.md) |
| **API Reference** | [claude-memory-system/API-REFERENCE.md](./claude-memory-system/API-REFERENCE.md) |

---

## System Architecture

### ğŸ—ï¸ 3-Layer Architecture

The Claude Memory System v2.2.0 uses a **3-layer architecture** that separates concerns and ensures clean, maintainable automation:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ”µ SYNC SYSTEM                           â”‚
â”‚                     (Foundation Layer)                       â”‚
â”‚  âœ… ALWAYS ACTIVE - Runs First - Foundational Components   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Context Management - Understand current state            â”‚
â”‚  â€¢ Session Management - Load/save session memory            â”‚
â”‚  â€¢ User Preferences - Learn user patterns                   â”‚
â”‚  â€¢ Pattern Detection - Cross-project learning               â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‚ Location: 01-sync-system/                              â”‚
â”‚  ğŸ¯ Purpose: Establish context and understand history      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ğŸŸ¢ STANDARDS SYSTEM                        â”‚
â”‚                    (Rules Layer)                            â”‚
â”‚  âœ… Load BEFORE Execution - Standards Enforcement          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Coding Standards - Java Spring Boot patterns             â”‚
â”‚  â€¢ Config Server Rules - What goes where                    â”‚
â”‚  â€¢ Secret Management - Never hardcode                       â”‚
â”‚  â€¢ API Design Standards - REST conventions                  â”‚
â”‚  â€¢ Database Standards - Naming, indexes                     â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‚ Location: 02-standards-system/                         â”‚
â”‚  ğŸ¯ Purpose: Load all rules to enforce during coding       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ğŸ”´ EXECUTION SYSTEM                         â”‚
â”‚                  (Implementation Layer)                      â”‚
â”‚  âœ… Follows Loaded Rules - Actual Work Execution           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Step 0: Prompt Generation (Anti-hallucination)            â”‚
â”‚  Step 1: Task Breakdown (Automatic complexity analysis)     â”‚
â”‚  Step 2: Plan Mode Suggestion (Auto-suggest when needed)   â”‚
â”‚  Step 3: Context Check (Token optimization)                â”‚
â”‚  Step 4: Model Selection (Haiku/Sonnet/Opus)              â”‚
â”‚  Step 5: Skill/Agent Selection (Auto-detect and invoke)   â”‚
â”‚  Step 6: Tool Optimization (15 strategies)                 â”‚
â”‚  Step 7: Failure Prevention (Pre-execution checks)         â”‚
â”‚  Step 8: Execute Task (Apply all rules from layer 2)      â”‚
â”‚  Step 9: Progress Tracking (Auto-update task status)      â”‚
â”‚  Step 10: Git Auto-Commit (On completion)                  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“‚ Location: 03-execution-system/                         â”‚
â”‚  ğŸ¯ Purpose: Execute with standards enforcement            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Layer Responsibilities

#### ğŸ”µ Layer 1: SYNC SYSTEM (Foundation)
**Always runs first - establishes context**

| Component | Files | Purpose |
|-----------|-------|---------|
| **Context Management** | `context-management-core/` | Understand current state, optimize token usage |
| **Session Management** | `session-memory-policy.md`<br>`session-pruning-policy.md` | Load previous session, save current session |
| **User Preferences** | `user-preferences-policy.md` | Learn user patterns, auto-apply preferences |
| **Pattern Detection** | `cross-project-patterns-policy.md` | Detect patterns across projects, apply learnings |

**Output:** Complete context loaded, session restored, preferences understood

#### ğŸŸ¢ Layer 2: STANDARDS SYSTEM (Rules)
**Loads before execution - defines what to enforce**

| Component | Files | Purpose |
|-----------|-------|---------|
| **Coding Standards** | `coding-standards-enforcement-policy.md` | Java Spring Boot patterns, package structure |
| **Config Server** | `docs/spring-cloud-config.md` | What config goes where (never in microservices) |
| **Secret Management** | `docs/secret-management.md` | Never hardcode secrets, use secret-manager |
| **API Design** | `docs/api-design-standards.md` | REST conventions, ApiResponseDto<T> |
| **Database Standards** | `docs/database-standards.md` | Naming, indexes, entities |

**Output:** All standards loaded and ready to enforce during code generation

#### ğŸ”´ Layer 3: EXECUTION SYSTEM (Implementation)
**Follows loaded rules - does actual work**

| Step | Component | File | Purpose |
|------|-----------|------|---------|
| **0** | Prompt Generation | `prompt-generation-policy.md` | Anti-hallucination, find before answer |
| **1** | Task Breakdown | `automatic-task-breakdown-policy.md` | Auto-analyze complexity, create tasks |
| **2** | Plan Mode | `auto-plan-mode-suggestion-policy.md` | Auto-suggest plan mode when needed |
| **3** | Context Check | `context-management-core/` | Optimize token usage |
| **4** | Model Selection | `intelligent-model-selection-policy.md` | Choose Haiku/Sonnet/Opus |
| **5** | Skill/Agent | `auto-skill-agent-selection-policy.md` | Auto-select skills/agents |
| **6** | Tool Optimization | `tool-usage-optimization-policy.md` | Apply 15 optimization strategies |
| **7** | Failure Prevention | `common-failures-prevention.md` | Pre-execution checks, auto-fixes |
| **8** | Execute Task | *All standards from Layer 2* | Generate code following all rules |
| **9** | Progress Tracking | `task-progress-tracking-policy.md` | Auto-update task status |
| **10** | Git Auto-Commit | `git-auto-commit-policy.md` | Commit on completion |

**Output:** Task completed following all standards and best practices

### Why 3 Layers?

**ğŸ¯ Separation of Concerns:**
- Layer 1: "What do I know?" (Context)
- Layer 2: "What are the rules?" (Standards)
- Layer 3: "What should I do?" (Execution)

**âœ… Benefits:**
1. **Clean Architecture** - Each layer has single responsibility
2. **Easy Maintenance** - Change rules without touching execution
3. **Guaranteed Enforcement** - Standards ALWAYS loaded before coding
4. **No Missed Rules** - Layer 2 loads ALL standards automatically
5. **Predictable Flow** - Always same order: Sync â†’ Load Rules â†’ Execute

**ğŸš« What NOT to Do:**
- âŒ Don't skip Layer 1 (need context first)
- âŒ Don't skip Layer 2 (need rules before coding)
- âŒ Don't execute without loading standards
- âŒ Don't load standards DURING execution (too late!)

### Architecture Diagram

```
USER REQUEST
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”µ SYNC SYSTEM (Layer 1)           â”‚
â”‚  Load context, session, preferences â”‚
â”‚  âœ… Foundation established          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ STANDARDS SYSTEM (Layer 2)      â”‚
â”‚  Load ALL coding standards          â”‚
â”‚  âœ… Rules ready to enforce          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ EXECUTION SYSTEM (Layer 3)      â”‚
â”‚  10 steps from prompt â†’ commit      â”‚
â”‚  âœ… Every line follows standards    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“
RESULT: Code that follows ALL standards
```

### File Organization

```
â”œâ”€â”€ policies/
â”‚   â”œâ”€â”€ 01-sync-system/              # ğŸ”µ Foundation Layer
â”‚   â”‚   â”œâ”€â”€ session-management/
â”‚   â”‚   â”œâ”€â”€ user-preferences/
â”‚   â”‚   â””â”€â”€ pattern-detection/
â”‚   â”‚
â”‚   â”œâ”€â”€ 02-standards-system/         # ğŸŸ¢ Rules Layer
â”‚   â”‚   â””â”€â”€ coding-standards-enforcement-policy.md
â”‚   â”‚
â”‚   â””â”€â”€ 03-execution-system/         # ğŸ”´ Implementation Layer
â”‚       â”œâ”€â”€ 00-prompt-generation/
â”‚       â”œâ”€â”€ 01-task-breakdown/
â”‚       â”œâ”€â”€ 02-plan-mode/
â”‚       â”œâ”€â”€ 04-model-selection/
â”‚       â”œâ”€â”€ 05-skill-agent-selection/
â”‚       â”œâ”€â”€ 06-tool-optimization/
â”‚       â”œâ”€â”€ 08-progress-tracking/
â”‚       â””â”€â”€ 09-git-commit/
â”‚
â””â”€â”€ docs/                            # Standards referenced by Layer 2
    â”œâ”€â”€ java-project-structure.md
    â”œâ”€â”€ spring-cloud-config.md
    â”œâ”€â”€ secret-management.md
    â””â”€â”€ ... (50+ standard docs)
```

---

### Execution Flow (Every Request)

```
1. Context Check (REQUIRED)
   â†“
   context-monitor-v2.py --current-status
   If >70%: Apply optimizations

2. Model Selection (REQUIRED)
   â†“
   model-selection-enforcer.py --analyze "message"
   Use recommended model

3. Skill Detection (OPTIONAL)
   â†“
   core-skills-enforcer.py --next-skill
   Execute if mandatory

4. Failure Prevention (BEFORE EVERY TOOL)
   â†“
   pre-execution-checker.py --tool {TOOL}
   Apply auto-fixes

5. Execute Task
   â†“
   Use optimized tool parameters
   Apply offset/limit/head_limit

6. Session Save (ON MILESTONES)
   â†“
   Auto-triggered by daemon

7. Git Auto-Commit (ON COMPLETION)
   â†“
   Auto-triggered by daemon

8. Logging (ALWAYS)
   â†“
   Log policy applications
```

### Background Automation

**Continuous (Every 5-20 min):**
- Context usage monitored
- Sessions auto-saved
- Preferences learned
- Skills suggested
- Token optimization applied

**Periodic (Daily/Weekly/Monthly):**
- Failures analyzed and learned
- Cross-project patterns detected
- Old sessions archived
- System health checked

**Event-Driven:**
- Git commits on completion
- Context cleanup on threshold
- Daemon auto-restart on failure

---

## 14 Active Policies

### 1. Core Skills Mandate
**Purpose:** System-level enforcement of mandatory execution flow

**5 Mandatory Skills (In Order):**
1. Context Management - Always validate context first
2. Model Selection - Always choose correct model
3. Adaptive Skill Intelligence - Auto-detect relevant skills
4. Task Planning Intelligence - Score complexity (0-10)
5. Phased Execution Intelligence - Score task size (0-10)

**Critical Protection:**
- Session files NEVER deleted
- Policy files PROTECTED
- Logs PROTECTED

### 2. Model Selection Enforcement
**Purpose:** Ensure correct model usage for cost optimization

| Task Type | Model | Savings |
|-----------|-------|---------|
| Search/Find | Haiku | 96% cost reduction |
| Implementation | Sonnet | Balanced cost/performance |
| Architecture | Opus | Maximum capability |

**Healthy Distribution:**
- Haiku: 35-45%
- Sonnet: 50-60%
- Opus: 3-8%

### 3. Common Failures Prevention
**Purpose:** Self-learning failure knowledge base

**Auto-Fixes Applied:**
- Bash: `del` â†’ `rm`, `copy` â†’ `cp`, etc.
- Edit: Strip line number prefixes
- Read: Auto-add offset/limit for large files
- Grep: Auto-add head_limit
- Git: Stage files before commit

**Token Savings:** 900-2900 per prevented failure

### 4. Context-Session Integration
**Purpose:** Separate temporary vs persistent memory

**Protected Directories (NEVER Cleanup):**
- `~/.claude/memory/sessions/**`
- `~/.claude/memory/*.md`
- `~/.claude/settings*.json`
- `~/.claude/memory/logs/**`

**Context Thresholds:**
- <70%: ğŸŸ¢ GREEN - Continue normally
- 70-84%: ğŸŸ¡ YELLOW - Use cache, optimize
- 85-89%: ğŸŸ  ORANGE - Use session state
- 90%+: ğŸ”´ RED - Save session, compact

### 5. File Management Policy
**Purpose:** Clean working directory & intelligent large file handling

**Rules:**
1. Temporary files â†’ Use system temp
2. Single README.md preferred
3. Large files >500 lines â†’ Smart strategies

**Large File Strategy:**
- Step 1: Structure read (100 lines)
- Step 2: Targeted read (offset+limit)
- Step 3: Smart edit (use Edit tool)
- **Savings:** 80-95%

### 6. Git Auto-Commit Policy
**Purpose:** Automatic commit/push on completion events

**Triggers:**
1. Phase completion
2. Todo completion
3. Periodic checkpoints (every 30 min or 3-5 files)

**Safety Rules:**
- NEVER force push
- Respect hooks
- Inform user always
- Check .git directory

**Repository Rules:**
- Always "main" branch (NEVER "master")
- Always private (unless explicitly public)

### 7. Proactive Consultation Policy
**Purpose:** Transparent decision-making with user collaboration

**When to Ask:**
- Planning decision (complexity 4-6)
- Phased execution (task size 3-5)
- Model/approach uncertainty
- Technology/library choice

**When NOT to Ask:**
- Clear scores (0-3 or 7-10)
- User already specified
- Previous decision in session
- Trivial tasks

### 8. Session Memory Policy
**Purpose:** 100% local persistent memory across sessions

**How It Works:**
1. **At Session Start:** Auto-load `project-summary.md`
2. **During Session:** Track decisions, files, context
3. **At Session End:** Auto-save session summary

**What to Capture:**
- Technical decisions
- User preferences (project-specific)
- Files modified
- Pending work
- Important context

**Protected from Context Cleanup:** 100% Protected

### 9. Session Pruning Policy
**Purpose:** Automatic cleanup of old sessions

**Pruning Rules:**
- Keep sessions modified in last 30 days
- Archive sessions 31-90 days old
- Delete archived sessions >90 days old

**Safe to Archive:**
- All tasks completed
- No pending work
- No errors
- Auto-commit done

**Never Prune:**
- Active sessions (<30 days)
- Sessions with errors
- Explicitly protected sessions

### 10. User Preferences Policy
**Purpose:** Learn and auto-apply user preferences

**Preference Types:**
- Planning mode (use/skip)
- Testing approach (TDD/after/skip)
- API style (REST/GraphQL)
- Error handling (exceptions/codes)
- Commit frequency (phase/file/manual)

**Learning Strategy:**
- Track user choices
- Apply automatically after 2-3 consistent choices
- Never ask same question twice

### 11. Cross-Project Patterns Policy
**Purpose:** Learn patterns across projects and auto-apply

**Pattern Detection:**
- Monthly analysis of all project sessions
- Identify common solutions
- Track success rates
- Build pattern library

**Auto-Application:**
- Suggest patterns when applicable
- Apply high-confidence patterns (>80%)
- Learn from user feedback

### 12. Test Case Policy
**Purpose:** Consistent testing approach

**Testing Strategy:**
- Unit tests for business logic
- Integration tests for APIs
- E2E tests for critical flows

**Coverage Targets:**
- Business logic: 80%+
- Controllers: 60%+
- Overall: 70%+

### 13. Task/Phase Enforcement Policy âš¡ NEW!
**Purpose:** BLOCKING enforcement of task breakdown and phased execution

**Enforcement Rules:**
- **Complexity >= 3:** TaskCreate REQUIRED
- **Size >= 6:** Phased execution REQUIRED
- **Auto-analysis:** Every request analyzed automatically
- **Blocking:** Cannot proceed without compliance

**Scoring Criteria:**
- Requirements count (0-3)
- Domain complexity (0-2)
- File modifications (0-2)
- Multi-item indicators (0-2)
- Complexity keywords (0-1)

**Benefits:**
- ğŸš¨ Mandatory task tracking
- âœ… No work without proper breakdown
- ğŸ“Š Clear progress visibility
- ğŸ”„ Auto-commit on completion

**Enforcer Script:** `task-phase-enforcer.py`

### 14. Task Progress Tracking Policy ğŸ“‹ NEW!
**Purpose:** Granular progress updates for session resumability

**Update Frequency:**
- **Minimum:** Every significant action
- **Recommended:** Every 2-3 tool calls
- **Maximum:** Don't let >5 tool calls pass

**Metadata Structure:**
```json
{
  "progress": "3/5 steps complete",
  "current_step": "Implementing feature X",
  "completed": ["Step1", "Step2", "Step3"],
  "remaining": ["Step4", "Step5"],
  "last_file": "path/to/file:line"
}
```

**Resume Capability:**
- Know exactly where work stopped
- Can resume from exact file/line
- See what's done/remaining
- Full audit trail

**Benefits:**
- âœ… Real-time progress visibility
- ğŸ”„ Session exit recovery
- ğŸ“ Exact location tracking
- ğŸ¯ Clear accountability

---

## Java Spring Boot Standards

### Project Structure

**Base Package:** `com.techdeveloper.${projectname}`

**Package Structure:**

| Package | Purpose |
|---------|---------|
| `controller` | REST endpoints |
| `dto` | Response objects |
| `form` | Request objects |
| `constants` | All constants/enums |
| `services` | Interfaces only |
| `services.impl` | Package-private implementations |
| `services.helper` | Helper classes |
| `entity` | Database entities |
| `repository` | Data access |

### Mandatory Patterns

1. **All responses use `ApiResponseDto<T>`**
   ```java
   public ApiResponseDto<UserDto> getUser(Long id) {
       return ApiResponseDto.success(userDto);
   }
   ```

2. **Form classes extend `ValidationMessageConstants`**
   ```java
   public class UserForm extends ValidationMessageConstants {
       @NotBlank(message = REQUIRED_FIELD)
       private String email;
   }
   ```

3. **Service impl extends Helper**
   ```java
   @Service
   class UserServiceImpl extends UserServiceHelper implements UserService {
       // Implementation
   }
   ```

4. **NO hardcoded messages** (use constants)
   ```java
   public static final String USER_NOT_FOUND = "User not found";
   ```

5. **`@Transactional` for all write operations**
   ```java
   @Transactional
   public User createUser(UserForm form) {
       // Save user
   }
   ```

### Quality Checklist
- âœ… `ApiResponseDto<T>` used?
- âœ… DTO vs Form separate?
- âœ… Messages in constants?
- âœ… Service impl package-private?
- âœ… Service impl extends helper?

---

## Spring Boot Configuration

### Spring Cloud Config Server

**ğŸ“– Full docs:** [claude-memory-system/docs/spring-cloud-config.md](./claude-memory-system/docs/spring-cloud-config.md)

**Config Location:**
```
techdeveloper/backend/techdeveloper-config-server/configurations/
â”œâ”€â”€ application.yml                    # Global (ALL services)
â”œâ”€â”€ {project}/common/*.yml             # Project common
â””â”€â”€ {project}/services/{service}.yml   # Service-specific
```

**Microservice application.yml (ONLY THIS!):**
```yaml
spring:
  application:
    name: service-name
  config:
    import: "configserver:http://localhost:8888"
  cloud:
    config:
      fail-fast: true
      retry:
        enabled: true

secret-manager:
  client:
    enabled: true
    project-name: "project-name"
```

**âŒ NEVER add to microservice application.yml:**
- Redis config (in config server)
- Feign config (in config server)
- Database config (in config server)
- Email config (in config server)
- Port numbers (in config server)

### Secret Management

**ğŸ“– Full docs:** [claude-memory-system/docs/secret-management.md](./claude-memory-system/docs/secret-management.md)

**Services:**
- Secret Manager: port 1002
- Project Management: port 8109

**How it works:**
- Secrets fetched at startup
- Injected as `${SECRET_KEY}`
- **ğŸš¨ NEVER hardcode secrets!**

**Microservice config:**
```yaml
secret-manager:
  client:
    enabled: true
    project-name: "project-name"
    base-url: "http://localhost:8085/api/v1/secrets"
```

---

## Installation Guide

### Prerequisites

**Required:**
- Python 3.7 or higher
- pip (Python package manager)
- Git (for cloning repository)

**Optional (for Memory System):**
- Windows/Linux/Mac OS
- PowerShell (for Windows auto-startup)

### Step-by-Step Installation

#### 1. Clone Repository
```bash
git clone https://github.com/piyushmakhija28/claude-insight.git
cd claude-insight
```

#### 2. Install Python Dependencies
```bash
pip install -r requirements.txt
```

This installs:
- Flask 3.0 - Web framework
- Flask-SocketIO 5.3.6 - Real-time updates
- psutil 5.9.8 - Process monitoring
- NumPy 1.24.3 - Statistical analysis
- bcrypt 4.0.1 - Password hashing
- openpyxl 3.1.2 - Excel export
- reportlab 4.0.4 - PDF export
- flasgger 0.9.7.1 - API docs
- Twilio 8.10.0 - SMS alerts
- python-engineio 4.8.0 - Engine.IO
- python-socketio 5.10.0 - Socket.IO
- simple-websocket 1.0.0 - WebSocket
- wsproto 1.2.0 - WebSocket protocol
- h11 0.14.0 - HTTP/1.1

#### 3. Verify Installation
```bash
python verify_enhancements.py
```

Expected output:
```
âœ“ All imports successful
âœ“ Flask app initialized
âœ“ All utilities loaded
âœ“ System ready to run
```

---

## Configuration

### Application Settings

Edit `app.py` to customize:

```python
# Secret key for session management
app.secret_key = 'your-secret-key-here'

# SocketIO CORS settings
socketio = SocketIO(app, cors_allowed_origins="*")
```

### Memory System Configuration

**Location:** `~/.claude/memory/`

**Key Configuration Files:**
- `CLAUDE.md` - Global configuration
- `user-preferences.json` - User preferences
- `failure-kb.json` - Failure knowledge base
- `skills-registry.json` - Skill registry
- `cross-project-patterns.json` - Pattern library

### Email/SMS Alerts

Configure in Settings page (http://localhost:5000/settings):

**Email Settings:**
- SMTP Server
- SMTP Port
- Username
- Password
- From Email

**SMS Settings (Twilio):**
- Account SID
- Auth Token
- From Phone Number

---

## Memory System Setup

### First Time Setup

#### Windows Auto-Startup (One-Time)
```powershell
# Run this once to auto-start all daemons on login
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1
```

This creates:
- âœ… Startup batch script
- âœ… Silent wrapper (no console window)
- âœ… Task Scheduler entry
- âœ… All 8-9 daemons auto-start on Windows login

#### Linux/Mac Setup
```bash
# Add to ~/.bashrc or ~/.zshrc
~/.claude/memory/startup-hook.sh
```

### Verify Installation

```bash
# Check system health
bash ~/.claude/memory/verify-system.sh

# View dashboard
bash ~/.claude/memory/dashboard-v2.sh

# Check daemon status
python ~/.claude/memory/daemon-manager.py --status-all
```

**Expected Result:** 8/8 or 9/9 daemons running âœ…

### Daily Usage

**At Session Start (MANDATORY):**
```bash
# Single command - does everything!
bash ~/.claude/memory/session-start.sh
```

This automatically:
1. âœ… Starts auto-recommendation daemon (9th daemon)
2. âœ… Checks all 9 daemon PIDs and status
3. âœ… Shows latest recommendations (model, skills, agents)
4. âœ… Shows context status (OK/WARNING/CRITICAL)
5. âœ… Shows optimizations needed
6. âœ… Provides complete system health summary

**Alternative (Quick Check):**
```bash
# Just check latest recommendations
python ~/.claude/memory/check-recommendations.py
```

### During Work

The system works automatically:
- âœ… Context monitored every 10 min
- âœ… Sessions auto-saved every 15 min
- âœ… Preferences learned every 20 min
- âœ… Skills suggested every 5 min
- âœ… Failures prevented on every tool call
- âœ… Git commits triggered on completion
- âœ… Token optimization applied continuously

**You just code - the system handles everything!**

---

## Running the Application

### Start the Server

```bash
python app.py
```

Expected output:
```
 * Running on http://127.0.0.1:5000
 * SocketIO server started
 * Dashboard ready at http://localhost:5000
```

### Access the Dashboard

1. Open browser: http://localhost:5000
2. Login:
   - Username: `admin`
   - Password: `admin`
3. Explore the dashboard!

### Production Deployment

For production, use a WSGI server:

```bash
# Install gunicorn
pip install gunicorn

# Run with gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 --worker-class eventlet app:app
```

Or use Docker:

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "--worker-class", "eventlet", "app:app"]
```

---

## How to Use

### Dashboard Navigation

#### Main Dashboard
- **System Health Score**: Overall health (0-100)
- **Daemon Status**: All 8-9 daemons
- **Policy Enforcement**: Recent policy activity
- **Context Usage**: Real-time token consumption
- **Model Distribution**: Haiku/Sonnet/Opus usage

#### Memory System Page
- **Daemon Health Grid**: Visual daemon status
- **Policy Compliance**: All 12 policies
- **Context Optimization**: Cache statistics
- **Failure Prevention**: Auto-fix tracking
- **Session Memory**: Active sessions
- **Git Activity**: Recent commits

#### Analytics Page
- **Cost Analysis**: Model usage and costs
- **Performance Metrics**: Response times
- **Token Optimization**: Savings metrics
- **Historical Trends**: Time-series charts

#### Anomaly Detection Page
- **AI Detection**: 6 ML algorithms
- **Anomaly List**: Recent anomalies
- **Insights**: Pattern analysis
- **Management**: Acknowledge/resolve

#### Predictive Analytics Page
- **Forecasting**: 5 algorithms
- **Capacity Planning**: Breach prediction
- **Time Series**: Future projections
- **Recommendations**: AI insights

#### Alert Routing Page
- **Routing Rules**: Configure routing
- **Escalation Levels**: Set up escalation
- **On-Call Schedule**: Weekly rotation
- **Alert History**: Track alerts

#### Logs Page
- **Real-time Logs**: Live log streaming
- **Filter Logs**: By daemon, level, date
- **Export Logs**: CSV, Excel, PDF

#### Settings Page
- **Email Alerts**: Configure SMTP
- **SMS Alerts**: Configure Twilio
- **Themes**: 6 custom themes
- **Alert Rules**: Quiet hours, rate limiting

### Widget Builder

#### Create Widget
1. Click "Widget Builder" in sidebar
2. Drag components from palette
3. Configure properties
4. Preview in real-time
5. Edit HTML/CSS/JS code
6. Save widget

#### Publish to Marketplace
1. Click "Publish to Marketplace"
2. Fill in details (name, description, category)
3. Set price (free or paid)
4. Submit for review
5. Widget appears in marketplace

#### Collaborate on Widget
1. Open widget in builder
2. Click "Start Collaboration"
3. Share session code with team
4. Edit together in real-time
5. See live cursors and changes
6. Chat with collaborators
7. Lock lines to prevent conflicts

#### Version Control
1. View version timeline
2. Compare versions (diff viewer)
3. Rollback to previous version
4. Add commit messages

#### Comments & Discussions
1. Add comments to widget
2. @mention other users
3. React with emojis
4. Reply to comments (threaded)
5. Get notifications on mentions

---

## API Reference

### Memory System APIs

#### Get Health Statistics
```http
GET /api/memory-system/health
```

**Response:**
```json
{
  "overall_health_score": 85,
  "health_status": "healthy",
  "daemon_health": {
    "running": 8,
    "total": 8,
    "percentage": 100
  },
  "policy_enforcement": {
    "active_policies": 10,
    "recent_enforcements": 45
  },
  "context_optimization": {
    "cache_hits": 120,
    "token_savings": 60000
  }
}
```

#### Get Daemon Status
```http
GET /api/memory-system/daemons
```

**Response:**
```json
{
  "daemons": [
    {
      "name": "context-daemon",
      "status": "running",
      "pid": 12345,
      "last_activity": "2026-02-15T10:30:00",
      "uptime_hours": 24.5
    }
  ]
}
```

#### Get Policy Status
```http
GET /api/memory-system/policies
```

**Response:**
```json
{
  "policies": [
    {
      "name": "Core Skills Mandate",
      "status": "active",
      "enforcements": 150,
      "last_enforcement": "2026-02-15T10:25:00"
    }
  ]
}
```

### Anomaly Detection APIs

#### Get Anomalies
```http
GET /api/anomaly-detection/anomalies
```

#### Acknowledge Anomaly
```http
POST /api/anomaly-detection/anomalies/{id}/acknowledge
```

#### Resolve Anomaly
```http
POST /api/anomaly-detection/anomalies/{id}/resolve
Content-Type: application/json

{
  "resolution_notes": "Resolved by scaling resources"
}
```

### Predictive Analytics APIs

#### Get Forecast
```http
GET /api/predictive-analytics/forecast/{metric_name}?horizon=24h&algorithm=ensemble
```

#### Get Capacity Planning
```http
GET /api/predictive-analytics/capacity-planning/{metric_name}?threshold=80
```

### Alert Routing APIs

#### Create Routing Rule
```http
POST /api/alert-routing/rules
Content-Type: application/json

{
  "name": "Critical Alerts to Ops Team",
  "conditions": {
    "severity": "critical",
    "metric_type": "cpu"
  },
  "actions": {
    "notify": ["ops@example.com"],
    "escalate_after_minutes": 15
  }
}
```

#### Get On-Call Schedule
```http
GET /api/alert-routing/on-call-schedule
```

### Widget Collaboration APIs

#### Start Collaboration Session
```http
POST /api/widgets/{id}/collaborate/start
```

#### Get Widget Versions
```http
GET /api/widgets/{id}/versions
```

#### Create Version
```http
POST /api/widgets/{id}/versions
Content-Type: application/json

{
  "commit_message": "Added new chart component"
}
```

#### Get Version Diff
```http
GET /api/widgets/{id}/versions/{v1}/diff/{v2}
```

#### Add Comment
```http
POST /api/widgets/{id}/comments
Content-Type: application/json

{
  "content": "Great widget! @john consider adding dark mode support",
  "parent_id": null
}
```

#### Get Trending Widgets
```http
GET /api/widgets/trending?period=7d&limit=10
```

### Complete API Documentation

Full Swagger documentation available at: **http://localhost:5000/api/docs**

---

## Metrics Tracked

### System Metrics
- **CPU Usage**: Daemon CPU consumption
- **Memory Usage**: Daemon memory consumption
- **Disk Usage**: Session storage size
- **Network Usage**: API calls and bandwidth

### Context Metrics
- **Context Usage**: Token consumption percentage
- **Cache Hit Rate**: Cache efficiency
- **Token Savings**: Estimated tokens saved
- **Optimizations Applied**: Count of optimizations

### Policy Metrics
- **Enforcement Count**: Times each policy applied
- **Compliance Rate**: Policy adherence percentage
- **Violations**: Policy violations detected

### Daemon Metrics
- **Uptime**: Running time for each daemon
- **Last Activity**: Timestamp of last activity
- **Restart Count**: Number of restarts
- **Error Count**: Errors encountered

### Model Metrics
- **Haiku Usage**: Percentage and count
- **Sonnet Usage**: Percentage and count
- **Opus Usage**: Percentage and count
- **Total Requests**: All API requests
- **Cost Breakdown**: Estimated costs

### Failure Metrics
- **Failures Prevented**: Total failures caught
- **Auto-Fixes Applied**: Automatic corrections
- **Patterns Learned**: Knowledge base size
- **Success Rate**: Prevention success rate

### Session Metrics
- **Active Sessions**: Sessions in last 7 days
- **Total Sessions**: All project sessions
- **Pruned Sessions**: Cleaned up sessions
- **Storage Size**: Total storage used

### Git Metrics
- **Total Commits**: All auto-commits
- **Commits Today**: Today's commits
- **Commits This Week**: Weekly commits
- **Commit Frequency**: Average per day

### Widget Metrics
- **Total Widgets**: All widgets created
- **Published Widgets**: Marketplace widgets
- **Downloads**: Widget download count
- **Ratings**: Average rating
- **Comments**: Comment count
- **Active Collaborations**: Live collaboration sessions

---

## Project Structure

```
claude-insight/
â”œâ”€â”€ app.py                          # Main Flask application (3,560 lines)
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ verify_enhancements.py          # Installation verification
â”œâ”€â”€ LICENSE                         # MIT License
â”œâ”€â”€ README.md                       # This file
â”‚
â”œâ”€â”€ templates/                      # HTML templates
â”‚   â”œâ”€â”€ base.html                   # Base template with navigation
â”‚   â”œâ”€â”€ dashboard.html              # Main dashboard
â”‚   â”œâ”€â”€ login.html                  # Login page
â”‚   â”œâ”€â”€ policies.html               # Policy monitoring
â”‚   â”œâ”€â”€ logs.html                   # Log viewer
â”‚   â”œâ”€â”€ sessions.html               # Session tracking
â”‚   â”œâ”€â”€ analytics.html              # Analytics page
â”‚   â”œâ”€â”€ anomaly-detection.html      # Anomaly detection
â”‚   â”œâ”€â”€ predictive-analytics.html   # Forecasting
â”‚   â”œâ”€â”€ alert-routing.html          # Alert routing
â”‚   â”œâ”€â”€ notifications.html          # Notification center
â”‚   â”œâ”€â”€ settings.html               # Settings page
â”‚   â”œâ”€â”€ widgets.html                # Widget list
â”‚   â”œâ”€â”€ widget-builder.html         # Widget builder
â”‚   â”œâ”€â”€ community-marketplace.html  # Marketplace
â”‚   â”œâ”€â”€ comparison.html             # Comparison tool
â”‚   â”œâ”€â”€ 404.html                    # Error page
â”‚   â””â”€â”€ 500.html                    # Error page
â”‚
â”œâ”€â”€ static/                         # Static files
â”‚   â”œâ”€â”€ css/                        # Stylesheets
â”‚   â”‚   â”œâ”€â”€ main.css                # Main styles
â”‚   â”‚   â”œâ”€â”€ themes.css              # Theme styles
â”‚   â”‚   â””â”€â”€ widgets.css             # Widget styles
â”‚   â””â”€â”€ js/                         # JavaScript files
â”‚       â”œâ”€â”€ main.js                 # Main scripts
â”‚       â”œâ”€â”€ widgets.js              # Widget scripts
â”‚       â”œâ”€â”€ collaboration.js        # Collaboration scripts
â”‚       â””â”€â”€ charts.js               # Chart scripts
â”‚
â”œâ”€â”€ utils/                          # Utility modules
â”‚   â”œâ”€â”€ metrics.py                  # Metrics collection
â”‚   â”œâ”€â”€ log_parser.py               # Log parsing
â”‚   â”œâ”€â”€ policy_checker.py           # Policy checking
â”‚   â”œâ”€â”€ session_tracker.py          # Session tracking
â”‚   â”œâ”€â”€ history_tracker.py          # History tracking
â”‚   â”œâ”€â”€ notification_manager.py     # Notifications
â”‚   â”œâ”€â”€ alert_sender.py             # Alert sending
â”‚   â”œâ”€â”€ community_widgets.py        # Widget management
â”‚   â”œâ”€â”€ anomaly_detector.py         # Anomaly detection
â”‚   â”œâ”€â”€ predictive_analytics.py     # Forecasting
â”‚   â”œâ”€â”€ alert_routing.py            # Alert routing
â”‚   â”œâ”€â”€ memory_system_monitor.py    # Memory system monitoring
â”‚   â”œâ”€â”€ widget_version_manager.py   # Version control
â”‚   â”œâ”€â”€ widget_comments_manager.py  # Comments
â”‚   â”œâ”€â”€ collaboration_manager.py    # Collaboration
â”‚   â””â”€â”€ trending_calculator.py      # Trending algorithm
â”‚
â”œâ”€â”€ memory_files/                   # Memory System backup (deprecated)
â”‚   â”œâ”€â”€ scripts/                    # Old scripts
â”‚   â”œâ”€â”€ daemons/                    # Old daemon files
â”‚   â””â”€â”€ policies/                   # Old policies
â”‚
â”œâ”€â”€ MASTER-README.md                # Complete documentation (1,500+ lines)
â”œâ”€â”€ CLAUDE.md                       # Global configuration (v2.4.0)
â”œâ”€â”€ FILE-INDEX.md                   # File organization index
â”œâ”€â”€ QUICK-NAVIGATION-GUIDE.md       # Navigation guide
â”‚
â”œâ”€â”€ policies/                       # All policy files (18+ organized by layer)
â”‚   â”œâ”€â”€ 01-sync-system/             # Foundation layer
â”‚   â”œâ”€â”€ 02-standards-system/        # Standards layer
â”‚   â”œâ”€â”€ 03-execution-system/        # Execution layer
â”‚   â””â”€â”€ testing/                    # Testing policies
â”‚
â”œâ”€â”€ memory-docs/                    # Memory system documentation (50+ files)
â”‚   â”œâ”€â”€ spring-cloud-config.md
â”‚   â”œâ”€â”€ secret-management.md
â”‚   â”œâ”€â”€ java-project-structure.md
â”‚   â”œâ”€â”€ api-design-standards.md
â”‚   â””â”€â”€ ... (50+ files)
â”‚
â”œâ”€â”€ memory-scripts/                 # Automation scripts (81+ files)
â”‚   â”œâ”€â”€ automation/                 # Core automation
â”‚   â”œâ”€â”€ daemons/                    # 9 daemon scripts
â”‚   â”œâ”€â”€ monitors/                   # Monitoring tools
â”‚   â””â”€â”€ ... (81+ files)
â”‚
â”œâ”€â”€ skills/                         # All skills (28+ skills)
â”‚   â”œâ”€â”€ java-spring-boot-microservices/
â”‚   â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ kubernetes/
â”‚   â””â”€â”€ ... (28+ skills)
â”‚
â”œâ”€â”€ agents/                         # All agents (12+ agents)
â”‚   â”œâ”€â”€ spring-boot-microservices/
â”‚   â”œâ”€â”€ orchestrator-agent/
â”‚   â””â”€â”€ ... (12+ agents)
â”‚
â”œâ”€â”€ config/                         # Configuration files
â”‚   â”œâ”€â”€ skills-registry.json
â”‚   â”œâ”€â”€ user-preferences.json
â”‚   â””â”€â”€ ... (6+ configs)
â”‚
â””â”€â”€ archive/                        # Archived files
```

---

## Security

### Authentication & Authorization

**Login System:**
- Bcrypt password hashing
- Session-based authentication
- CSRF protection (Flask built-in)
- Password change functionality

**Default Credentials:**
- Username: `admin`
- Password: `admin`
- **âš ï¸ Change immediately in production!**

### XSS Protection

**Input Sanitization:**
- All user inputs sanitized
- HTML escaped in templates
- Content Security Policy headers
- Widget code sandboxing

### Data Protection

**Sensitive Data:**
- Passwords hashed with bcrypt
- API keys encrypted at rest
- HTTPS recommended for production
- No secrets in logs

**Memory System Security:**
- Local-only file access
- No cloud uploads
- Protected session files
- Audit trail logging

### Best Practices

1. **Change default password** immediately
2. **Use HTTPS** in production
3. **Restrict network access** (firewall)
4. **Regular backups** of Memory System files
5. **Monitor logs** for suspicious activity
6. **Update dependencies** regularly
7. **Enable 2FA** (future enhancement)

### Security Checklist

- âœ… Input validation on all forms
- âœ… SQL injection prevention (parameterized queries)
- âœ… XSS protection (output encoding)
- âœ… CSRF tokens on state-changing requests
- âœ… Password complexity requirements
- âœ… Session timeout (30 minutes)
- âœ… Secure cookie flags (httpOnly, secure)
- âœ… Rate limiting on login
- âœ… Audit logging

---

## Troubleshooting

### Common Issues

#### Dashboard Won't Start

**Error:** `ModuleNotFoundError: No module named 'flask'`

**Solution:**
```bash
pip install -r requirements.txt
```

#### Memory System Not Detected

**Error:** "Memory system files not found"

**Solution:**
```bash
# Deploy Memory System files
cp -r claude-memory-system/* ~/.claude/memory/

# Or on Windows
xcopy /E /I /Y claude-memory-system\* %USERPROFILE%\.claude\memory\
```

#### Daemons Not Running

**Error:** "0/8 daemons running"

**Solution:**
```bash
# Start daemons manually
bash ~/.claude/memory/startup-hook.sh

# Or on Windows
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1
```

#### Daemon Status Shows "Not Started"

**Solution:**
```bash
# Check daemon logs
tail -f ~/.claude/memory/logs/daemons/context-daemon.log

# Restart specific daemon
python ~/.claude/memory/daemon-manager.py --restart context-daemon
```

#### WebSocket Connection Failed

**Error:** "SocketIO connection failed"

**Solution:**
1. Check if port 5000 is blocked by firewall
2. Try different browser
3. Disable browser extensions
4. Check console for errors

#### High Memory Usage

**Solution:**
```bash
# Check which daemon is using memory
python ~/.claude/memory/daemon-manager.py --status-all

# Restart all daemons
bash ~/.claude/memory/startup-hook.sh
```

### Daemon Troubleshooting

#### Check Daemon Status
```bash
python ~/.claude/memory/daemon-manager.py --status-all
```

#### View Daemon Logs
```bash
# All daemon logs
ls ~/.claude/memory/logs/daemons/

# Specific daemon
tail -f ~/.claude/memory/logs/daemons/context-daemon.log
```

#### Restart Specific Daemon
```bash
python ~/.claude/memory/daemon-manager.py --restart context-daemon
```

#### Restart All Daemons
```bash
bash ~/.claude/memory/startup-hook.sh
```

### Memory System Troubleshooting

#### Context Issues
```bash
# Check context status
python ~/.claude/memory/context-monitor-v2.py --current-status

# Clear cache if needed
rm -rf ~/.claude/memory/.cache/*
```

#### Session Memory Issues
```bash
# Check sessions
ls -lh ~/.claude/memory/sessions/

# Archive old sessions
python ~/.claude/memory/archive-old-sessions.py
```

#### Rollback if Needed
```bash
python ~/.claude/memory/rollback.py
```

### Health Checks

#### Run Full Test Suite
```bash
python ~/.claude/memory/test-all-phases.py
```

#### Daily Health Check
```bash
bash ~/.claude/memory/daily-health-check.sh
```

#### Weekly Health Check
```bash
bash ~/.claude/memory/weekly-health-check.sh
```

#### Check for Conflicts
```bash
bash ~/.claude/memory/check-conflicts.sh
```

### Getting Help

If you encounter issues:

1. **Check logs**: `~/.claude/memory/logs/`
2. **Run health check**: `bash ~/.claude/memory/verify-system.sh`
3. **View dashboard**: `bash ~/.claude/memory/dashboard-v2.sh`
4. **Read documentation**: `claude-memory-system/MASTER-README.md`
5. **Open GitHub issue**: [Report issue](https://github.com/piyushmakhija28/claude-insight/issues)

---

## Contributing

We welcome contributions! Here's how you can help:

### How to Contribute

1. **Fork the repository**
2. **Create a feature branch**
   ```bash
   git checkout -b feature/your-feature-name
   ```
3. **Make your changes**
4. **Test thoroughly**
   ```bash
   python verify_enhancements.py
   ```
5. **Commit with descriptive message**
   ```bash
   git commit -m "feat: Add new feature description"
   ```
6. **Push to your fork**
   ```bash
   git push origin feature/your-feature-name
   ```
7. **Open a Pull Request**

### Contribution Guidelines

**Code Style:**
- Follow PEP 8 for Python code
- Use meaningful variable names
- Add comments for complex logic
- Include docstrings for functions

**Commit Messages:**
- Use conventional commits format
- `feat:` for new features
- `fix:` for bug fixes
- `docs:` for documentation
- `refactor:` for code refactoring
- `test:` for tests

**Testing:**
- Test all changes locally
- Ensure no breaking changes
- Add tests for new features
- Verify dashboard loads correctly

**Documentation:**
- Update README if needed
- Add inline comments
- Document new APIs
- Update CHANGELOG

### Areas for Contribution

**High Priority:**
- ğŸ› Bug fixes
- ğŸ“Š New metrics and charts
- ğŸ¨ UI/UX improvements
- ğŸ“± Mobile responsiveness
- ğŸ”’ Security enhancements

**Medium Priority:**
- âœ¨ New features
- ğŸ“– Documentation improvements
- ğŸ§ª Test coverage
- âš¡ Performance optimization

**Future Enhancements:**

**âœ¨ NEW in v2.16 (Latest Release):**
- âœ… **Two-Factor Authentication (2FA)** - QR code setup, TOTP verification, backup codes, activity log
- âœ… **Custom Dashboard Builder** - Drag-and-drop widgets with GridStack.js, multiple dashboards, export/import
- âœ… **Multi-language Support (i18n)** - English, Hindi, Spanish, French, German with dynamic translation
- âœ… **Plugin System** - Install/uninstall plugins, marketplace, auto-updates, extensibility framework
- âœ… **Grafana & Prometheus Integration** - Metrics endpoint, pre-built dashboards, monitoring tools integration
- âœ… **Advanced Notification Channels** - Slack, Discord, PagerDuty webhooks with custom routing rules

**âœ¨ NEW in v2.15:**
- âœ… **Advanced Themes & Customization** - 8 new themes + custom theme builder with color pickers
- âœ… **Advanced Search & Filtering** - Global search across all data sources with filters, saved searches, export
- âœ… **ML Model Training UI** - 5-step wizard for training 15+ model types with real-time visualization
- âœ… **Debugging & Troubleshooting Tools** - Real-time log streaming, daemon diagnostics, error analysis

**Completed in Recent Versions:**
- âœ… Performance profiling dashboard (v2.14)
- âœ… Widget collaboration with real-time editing (v2.13)
- âœ… AI-powered anomaly detection (v2.9)
- âœ… Predictive analytics with forecasting (v2.10)
- âœ… Alert routing and escalation (v2.11)

**Planned for Future Releases:**
- ğŸ“± Mobile app (iOS/Android)

---

## Quick Start Guide (60 Seconds)

### 1. Clone & Install
```bash
git clone https://github.com/piyushmakhija28/claude-insight.git
cd claude-insight
pip install -r requirements.txt
```

### 2. Run the Application
```bash
python run.py
```

### 3. Access Dashboard
- **URL**: http://localhost:5000
- **Username**: `admin`
- **Password**: `admin`

### 4. Explore Features
- ğŸ“Š **Dashboard** - Overview of system health
- ğŸ¤– **Automation** - Track all automation policies (NEW v2.17.1!)
- âš¡ **Performance** - Analyze operation speeds
- ğŸ“‹ **Policies** - Monitor policy enforcement
- ğŸ’° **Costs** - Track token usage and costs

### 5. Deploy Memory System (Optional)
```bash
# Windows
xcopy /E /I /Y policies\* %USERPROFILE%\.claude\memory\
xcopy /E /I /Y memory-scripts\* %USERPROFILE%\.claude\memory\scripts\
xcopy /E /I /Y skills\* %USERPROFILE%\.claude\skills\
xcopy /E /I /Y agents\* %USERPROFILE%\.claude\agents\

# Linux/Mac
cp -r policies/* ~/.claude/memory/
cp -r memory-scripts/* ~/.claude/memory/scripts/
cp -r skills/* ~/.claude/skills/
cp -r agents/* ~/.claude/agents/
```

---

## Automation System Integration Details (v2.17.1)

### What Was Added in v2.17.1

**3 New Monitoring Services:**
1. **AutomationTracker** - Session-start recommendations, 9th daemon status, task breakdown
2. **SkillAgentTracker** - Skill/agent selection statistics, plan mode suggestions
3. **OptimizationTracker** - 15 token optimization strategies, coding standards enforcement

**16 New API Endpoints:**
- `/api/automation/session-start-recommendations`
- `/api/automation/daemon-9-status`
- `/api/automation/task-breakdown-stats`
- `/api/automation/task-tracker-stats`
- `/api/automation/comprehensive-stats`
- `/api/skills/selection-stats`
- `/api/agents/usage-stats`
- `/api/plan-mode/suggestions`
- `/api/skills-agents/comprehensive-stats`
- `/api/optimization/tool-metrics`
- `/api/optimization/standards-enforcement`
- `/api/optimization/comprehensive-stats`

**New Dashboard:**
- URL: `/automation-dashboard`
- Features: 9 comprehensive cards tracking all automation
- Auto-refresh: Every 30 seconds

### Coverage Achieved

| Component | Status |
|-----------|--------|
| 9 Daemons | âœ… Tracked |
| Session-Start Recommendations | âœ… Tracked |
| Task Breakdown Enforcement | âœ… Tracked |
| Plan Mode Suggestions | âœ… Tracked |
| Skill/Agent Selection | âœ… Tracked |
| Tool Optimization (15 strategies) | âœ… Tracked |
| Task Auto-Tracker | âœ… Tracked |
| Standards Enforcement | âœ… Tracked |

**Result: 100% Automation Coverage** ğŸ¯

### How to Use

1. Start Claude Insight: `python run.py`
2. Navigate to: http://localhost:5000
3. Click "Automation" in menu
4. View real-time automation metrics

---

## Auto-Sync Guide for Contributors

### Why Sync Matters

Claude Insight is a **public package** that users download from GitHub. When you create new skills, agents, or policies in your local memory system, they must be synced to this repository so users get them.

**If you don't sync â†’ Users miss new features!** âŒ

### What Gets Synced

| Type | Source | Destination | When |
|------|--------|-------------|------|
| **Skills** | `~/.claude/skills/` | `claude-insight/skills/` | After creating new skill |
| **Agents** | `~/.claude/agents/` | `claude-insight/agents/` | After creating new agent |
| **Policies** | `~/.claude/memory/policies/` | `claude-insight/policies/` | After policy updates |
| **Docs** | `~/.claude/memory/docs/` | `claude-insight/memory-docs/` | After doc updates |
| **Scripts** | `~/.claude/memory/scripts/` | `claude-insight/memory-scripts/` | After new scripts |
| **Config** | `~/.claude/memory/config/` | `claude-insight/config/` | After config changes |

### Quick Sync Commands

**Full Sync (After Major Changes):**
```bash
cd /path/to/claude-insight

# Sync all at once
cp -r ~/.claude/skills/* skills/
cp -r ~/.claude/agents/* agents/
cp -r ~/.claude/memory/policies/* policies/
cp -r ~/.claude/memory/docs/* memory-docs/
cp -r ~/.claude/memory/scripts/* memory-scripts/
cp -r ~/.claude/memory/config/* config/
cp ~/.claude/CLAUDE.md CLAUDE.md
cp ~/.claude/memory/MASTER-README.md MASTER-README.md

echo "âœ… Full sync completed!"
```

**Single Item Sync:**
```bash
# New skill
cp -r ~/.claude/skills/{skill-name} /path/to/claude-insight/skills/

# New agent
cp -r ~/.claude/agents/{agent-name} /path/to/claude-insight/agents/

# Updated policy
cp ~/.claude/memory/policies/{policy-file}.md /path/to/claude-insight/policies/
```

### Verification

```bash
# Verify skill synced
ls /path/to/claude-insight/skills/{skill-name}

# Verify agent synced
ls /path/to/claude-insight/agents/{agent-name}

# Verify policy synced
find /path/to/claude-insight/policies -name "{policy-file}.md"
```

### After Syncing

```bash
# Commit and push
git add .
git commit -m "feat: Add new skill/agent/policy"
git push origin main
```

---

## Complete Package Contents

This repository contains **320+ files** providing everything needed for the complete Claude Memory System v2.2.0 with monitoring.

### Directory Structure

```
claude-insight/
â”œâ”€â”€ CLAUDE.md                            # Global configuration (v2.4.0)
â”œâ”€â”€ MASTER-README.md                     # Complete documentation (1,500+ lines)
â”œâ”€â”€ FILE-INDEX.md                        # File organization index
â”œâ”€â”€ QUICK-NAVIGATION-GUIDE.md            # Navigation guide
â”‚
â”œâ”€â”€ policies/                            # 18+ policy files (organized by layer)
â”‚   â”œâ”€â”€ 01-sync-system/                  # Foundation layer
â”‚   â”œâ”€â”€ 02-standards-system/             # Standards layer
â”‚   â”œâ”€â”€ 03-execution-system/             # Execution layer
â”‚   â””â”€â”€ testing/                         # Testing policies
â”‚
â”œâ”€â”€ memory-docs/                         # 50+ documentation files
â”‚   â”œâ”€â”€ spring-cloud-config.md
â”‚   â”œâ”€â”€ secret-management.md
â”‚   â”œâ”€â”€ java-project-structure.md
â”‚   â””â”€â”€ ... (50+ files)
â”‚
â”œâ”€â”€ memory-scripts/                      # 81+ automation scripts
â”‚   â”œâ”€â”€ automation/                      # Core automation
â”‚   â”œâ”€â”€ daemons/                         # 9 daemon scripts
â”‚   â”œâ”€â”€ monitors/                        # Monitoring tools
â”‚   â””â”€â”€ ... (81+ files)
â”‚
â”œâ”€â”€ skills/                              # 28+ skills
â”‚   â”œâ”€â”€ java-spring-boot-microservices/
â”‚   â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ kubernetes/
â”‚   â””â”€â”€ ... (28+ skills)
â”‚
â”œâ”€â”€ agents/                              # 12+ agents
â”‚   â”œâ”€â”€ spring-boot-microservices/
â”‚   â”œâ”€â”€ orchestrator-agent/
â”‚   â”œâ”€â”€ devops-engineer/
â”‚   â””â”€â”€ ... (12+ agents)
â”‚
â”œâ”€â”€ config/                              # 6+ configuration files
â”‚   â”œâ”€â”€ skills-registry.json
â”‚   â”œâ”€â”€ user-preferences.json
â”‚   â””â”€â”€ ... (6+ configs)
â”‚
â”œâ”€â”€ src/                                 # Claude Insight Application
â”‚   â”œâ”€â”€ services/                        # Monitoring services
â”‚   â”‚   â”œâ”€â”€ monitoring/                  # 9 tracking services
â”‚   â”‚   â”œâ”€â”€ ai/                          # AI-powered analysis
â”‚   â”‚   â””â”€â”€ ... (more services)
â”‚   â””â”€â”€ app.py                           # Main application
â”‚
â”œâ”€â”€ templates/                           # 25+ HTML templates
â”‚   â”œâ”€â”€ automation-dashboard.html        # NEW v2.17.1
â”‚   â”œâ”€â”€ dashboard.html
â”‚   â””â”€â”€ ... (25+ templates)
â”‚
â”œâ”€â”€ static/                              # Static assets
â”‚   â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ js/
â”‚   â””â”€â”€ i18n/
â”‚
â””â”€â”€ README.md                            # This file
```

### File Count Summary

| Category | Count | Description |
|----------|-------|-------------|
| **Policy Files** | 18+ | All automation policies (organized by layer) |
| **Documentation** | 50+ | Complete guides, standards, references |
| **Automation Scripts** | 81+ | Daemons, monitors, trackers, utilities |
| **Skills** | 28+ | Complete skill library |
| **Agents** | 12+ | Complete agent library |
| **Monitoring Services** | 9 | Real-time tracking services |
| **API Endpoints** | 80+ | Complete REST API |
| **Dashboard Templates** | 25+ | UI pages and components |
| **Total Files** | 320+ | Everything included! |

### What You Get

1. **Complete Claude Memory System v2.2.0**
   - All 18+ policy files (organized by 3-layer architecture)
   - All 81+ automation scripts
   - All 28+ skills
   - All 12+ agents
   - Complete documentation (1,500+ lines)
   - Configuration files and templates

2. **Complete Monitoring Dashboard**
   - Claude Insight application (3,500+ lines)
   - 9 monitoring services
   - 80+ API endpoints
   - 25+ dashboard pages
   - Real-time updates with WebSocket
   - Beautiful UI with 14 themes

3. **100% Automation Tracking**
   - All 9 daemons monitored
   - All policies tracked
   - Session start recommendations
   - Task breakdown enforcement
   - Skill/agent selection
   - Plan mode suggestions
   - 15 optimization strategies
   - Standards enforcement

### Benefits

- **Complete Package** - Everything in one repository
- **No Setup Hassles** - All files included
- **No Missing Files** - 320+ files ready to use
- **Production Ready** - Fully tested and documented
- **Active Maintenance** - Regular updates and improvements

---

## License

MIT License

Copyright (c) 2026 TechDeveloper

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

## Acknowledgments

**Built with:**
- Flask - Web framework
- Socket.IO - Real-time updates
- Chart.js - Data visualization
- Bootstrap - UI framework
- NumPy - Statistical analysis
- psutil - Process monitoring

**Inspired by:**
- Claude AI by Anthropic
- Modern DevOps practices
- Professional monitoring solutions

**Special Thanks:**
- Anthropic team for Claude AI
- Open source community
- All contributors

---

## Contact & Support

**Developer:** TechDeveloper
**Website:** [www.techdeveloper.in](https://www.techdeveloper.in)
**GitHub:** [piyushmakhija28/claude-insight](https://github.com/piyushmakhija28/claude-insight)

**Support:**
- ğŸ› [Report Bug](https://github.com/piyushmakhija28/claude-insight/issues)
- âœ¨ [Request Feature](https://github.com/piyushmakhija28/claude-insight/issues)
- ğŸ“– [Documentation](./claude-memory-system/MASTER-README.md)
- ğŸ’¬ [Discussions](https://github.com/piyushmakhija28/claude-insight/discussions)

---

**Made with â¤ï¸ by TechDeveloper**

**â­ Star this repo if you find it useful!**

---

## Version History

### v2.17.1 (Feb 2026) - Complete Automation System Integration ğŸ‰
**MAJOR UPDATE - 100% Automation Coverage**

This release completes the full integration of all CLAUDE.md automation components, providing **complete visibility** into the entire Claude Memory System v2.2.0 automation framework.

**ğŸ†• 3 New Monitoring Services (1,600+ lines):**
- **AutomationTracker** - Session start recommendations, 9th daemon, task breakdown
- **SkillAgentTracker** - Skill/agent selection, plan mode suggestions
- **OptimizationTracker** - 15 token optimization strategies, standards enforcement

**ğŸ†• 16 New API Endpoints:**
- 5 Automation APIs (session-start, daemon-9, task breakdown, task tracker)
- 4 Skill/Agent APIs (skill selection, agent usage, plan mode)
- 3 Optimization APIs (tool metrics, standards enforcement)
- 4 Comprehensive stats endpoints

**ğŸ†• Complete Automation Dashboard:**
- Session Start Recommendations card with model/skills/agents
- 9th Daemon (auto-recommendation) status tracking
- Task Breakdown Enforcement statistics
- Task Auto-Tracker metrics
- Skill Selection statistics (auto vs manual)
- Agent Invocation tracking (parallel vs sequential)
- Plan Mode Suggestions analytics
- Tool Optimization (15 strategies) with token savings
- Coding Standards Enforcement tracking
- Auto-refresh every 30 seconds

**ğŸ“Š What's Now Tracked:**
- âœ… 9 Daemons (added auto-recommendation daemon)
- âœ… Session start recommendations (model, skills, agents, context status)
- âœ… Task breakdown enforcement (complexity scoring, phases)
- âœ… Task auto-tracker (automatic progress updates)
- âœ… Skill selection (auto vs manual invocations)
- âœ… Agent usage (parallel vs sequential, by type)
- âœ… Plan mode suggestions (auto-entered, approved, declined)
- âœ… 15 optimization strategies (response compression, diff-based editing, smart tool selection, grep optimization, tiered caching, session state, incremental updates, file type optimization, lazy loading, smart summarization, batch operations, MCP filtering, conversation pruning, AST navigation, parallel tools)
- âœ… Coding standards enforcement (Java Spring Boot, Config Server, Secret Management, API design, Database)

**ğŸ¯ Coverage:**
- Before: 50% (8 daemons, basic policies)
- After: **100%** (all 9 daemons, all automation components)

**ğŸ“ Files Added/Modified:**
- `src/services/monitoring/automation_tracker.py` (NEW - 250 lines)
- `src/services/monitoring/skill_agent_tracker.py` (NEW - 300 lines)
- `src/services/monitoring/optimization_tracker.py` (NEW - 350 lines)
- `templates/automation-dashboard.html` (NEW - 700 lines)
- `src/app.py` (UPDATED - added 16 APIs + 1 route)
- `templates/base.html` (UPDATED - added navigation)
- `AUTOMATION-SYSTEM-INTEGRATION.md` (NEW - complete documentation)

**Why This Matters:**
This release answers the fundamental question: "Is the automation system working?" Now you have **complete real-time visibility** into every automation component defined in CLAUDE.md. No more guessing - you can see exactly what's being tracked, what's being optimized, and what's being automated.

### v2.16 (Feb 2026) - Enterprise Features Edition
- Two-Factor Authentication (2FA) with QR codes and backup codes
- Custom Dashboard Builder with drag-and-drop widgets
- Multi-language Support (English, Hindi, Spanish, French, German)
- Plugin System with marketplace and auto-updates
- Grafana & Prometheus Integration with metrics endpoint
- Advanced Notification Channels (Slack, Discord, PagerDuty)

### v2.15 (Feb 2026) - Advanced Customization Edition
- 14 preset themes + custom theme builder
- Advanced search & filtering across all data sources
- ML Model Training UI with 5-step wizard (15+ model types)
- Debugging & Troubleshooting Tools with real-time log streaming

### v2.14 (Feb 2026) - Performance Profiling Edition
- Real-time performance monitoring dashboard
- AI-powered bottleneck analysis and recommendations
- Operation tracking for all tool types (Read, Write, Grep, Bash, Edit)
- Performance trend analysis with historical data
- Slow operation detection and optimization suggestions
- Daily JSON persistence with in-memory ring buffers

### v2.13 (Feb 2026) - Widget Collaboration Edition
- Real-time collaborative widget editing
- Version control with semantic versioning
- Comments and discussions with @mentions
- Featured and trending widgets
- Backend architecture complete (33%)

### v2.12 (Feb 2026) - Memory System Integration
- Complete Claude Memory System v2.2.0 integration
- 8 daemon health monitoring
- 10 policy enforcement tracking
- Context optimization metrics
- System health scoring

### v2.11 (Feb 2026) - Alert Routing Edition
- Custom routing rules
- Multi-level escalation
- On-call schedules
- Notification channels

### v2.10 (Feb 2026) - Forecasting Edition
- 5 forecasting algorithms
- Time series predictions
- Capacity planning
- Breach detection

### v2.9 (Feb 2026) - AI Detection Edition
- 6 ML anomaly detection algorithms
- Ensemble detection
- Confidence scoring
- Anomaly management

### v2.8 (Feb 2026) - Community Marketplace
- Widget marketplace
- Share and discover widgets
- Rating system
- Download tracking

### v2.7 (Feb 2026) - Advanced Widget Builder
- Drag-and-drop editor
- 15+ components
- Live preview
- Code editing

### v2.6 (Feb 2026) - Email & SMS Alerts
- Email notifications (SMTP)
- SMS alerts (Twilio)
- Alert rules
- History tracking

### v2.5 (Feb 2026) - Mobile & Notifications
- 6 custom themes
- Browser notifications
- Mobile responsive
- Real-time updates

### v2.4 (Feb 2026) - Analytics Edition
- Cost analysis
- Performance metrics
- Export options
- API documentation

---

**End of README** ğŸ“–
