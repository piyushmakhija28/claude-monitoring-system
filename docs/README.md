# ğŸ¤– Claude Insight v2.13

**Professional Real-time Analytics Dashboard with Complete Claude Memory System v2.2.0 Integration**

[![GitHub](https://img.shields.io/badge/GitHub-claude--monitoring--system-blue?logo=github)](https://github.com/piyushmakhija28/claude-insight)
[![Python](https://img.shields.io/badge/Python-3.7+-blue?logo=python)](https://www.python.org/)
[![Flask](https://img.shields.io/badge/Flask-3.0-green?logo=flask)](https://flask.palletsprojects.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

A comprehensive, real-time monitoring and analytics dashboard for the Claude Memory System v2.2.0. Track system health, analyze costs, monitor policies, and optimize performance - all from one beautiful interface with AI-powered anomaly detection, predictive forecasting, and custom alert routing.

**ğŸ COMPLETE PACKAGE**: This repo includes **everything you need** - the monitoring dashboard + **complete Claude Memory System v2.2.0 files**:
- âœ… **139 files** - All automation scripts, policies, and documentation
- âœ… **8-9 daemons** - Complete daemon monitoring scripts
- âœ… **81 automation scripts** - Python & Shell scripts for all features
- âœ… **48 policy files** - All 12 policies + complete documentation
- âœ… **CLAUDE.md** - Global configuration v2.2.0
- âœ… **Real-time integration** - Live monitoring of all components

**Developed by [TechDeveloper](https://www.techdeveloper.in)** ğŸ’»

---

## ğŸ“‘ Table of Contents

### ğŸš€ Getting Started
- [ğŸ¯ Overview](#overview)
- [âœ¨ Features](#features)
- [ğŸš€ Quick Start](#quick-start)
- [ğŸ“¦ What's Included](#whats-included)
- [ğŸ› ï¸ Tech Stack](#tech-stack)

### ğŸ“š Claude Memory System
- [ğŸ§  Memory System Overview](#claude-memory-system-overview)
- [ğŸ“– Complete Documentation](#complete-documentation)
- [ğŸ¤– System Architecture](#system-architecture)
- [ğŸ“œ 12 Active Policies](#12-active-policies)
- [â˜• Java Spring Boot Standards](#java-spring-boot-standards)
- [ğŸ”§ Spring Boot Configuration](#spring-boot-configuration)

### ğŸ¨ Dashboard Features
- [ğŸ“Š Core Monitoring](#core-monitoring-features)
- [ğŸ§  Memory System Integration](#memory-system-integration-v212)
- [ğŸš¨ Alert Routing](#alert-routing-escalation-v211)
- [ğŸ“ˆ Predictive Analytics](#predictive-analytics-v210)
- [ğŸ¤– AI Anomaly Detection](#ai-anomaly-detection-v29)
- [ğŸŒ Community Marketplace](#community-marketplace-v27-v213)
- [ğŸ¤ Widget Collaboration](#widget-collaboration-v213)

### ğŸ”§ Installation & Setup
- [ğŸ“¥ Installation Guide](#installation-guide)
- [âš™ï¸ Configuration](#configuration)
- [ğŸ¯ Memory System Setup](#memory-system-setup)
- [ğŸ”„ Running the Application](#running-the-application)

### ğŸ“– Usage & Reference
- [ğŸ’¡ How to Use](#how-to-use)
- [ğŸ”„ API Reference](#api-reference)
- [ğŸ“Š Metrics Tracked](#metrics-tracked)
- [ğŸ“ Project Structure](#project-structure)

### ğŸ›¡ï¸ Security & Support
- [ğŸ”’ Security](#security)
- [ğŸ› Troubleshooting](#troubleshooting)
- [ğŸ¤ Contributing](#contributing)
- [ğŸ“„ License](#license)

---

## Overview

The Claude Insight is a professional-grade dashboard that provides complete visibility into your Claude Memory System v2.2.0 deployment. Monitor daemon health, track policy enforcement, analyze token consumption, detect anomalies, and optimize performance - all in real-time.

### Why This Was Built

The Claude Memory System v2.2.0 is a powerful automation framework that:
- Reduces token consumption by 60-80%
- Prevents repeated failures through self-learning
- Manages context automatically with intelligent optimization
- Enforces code standards for Java Spring Boot projects
- Runs 8-9 background daemons for continuous optimization

**But how do you know it's working?** That's where this monitoring system comes in.

### What Makes This Special

ğŸ¯ **Complete Integration**: Direct integration with all Memory System components
ğŸ“Š **Real-time Monitoring**: Live updates every 10-30 seconds via WebSocket
ğŸ§  **AI-Powered**: Machine learning for anomaly detection and forecasting
ğŸš¨ **Smart Alerts**: Custom routing with multi-level escalation
ğŸŒ **Community Features**: Share widgets, collaborate in real-time
ğŸ“ˆ **Professional UI**: Beautiful, responsive dashboard with 6 themes
ğŸ”’ **Secure**: Authentication, authorization, XSS protection

---

## Features

### Core Monitoring Features

#### ğŸ“Š System Health Dashboard
- **Real-time Health Score**: 0-100 overall system health with component breakdown
- **Daemon Status Grid**: Visual health monitoring of all 8-9 daemons
- **Policy Compliance**: Track enforcement of all 12 active policies
- **Performance Metrics**: Response times, context usage, error tracking
- **Session Tracking**: Active sessions, history, incomplete work detection
- **Export Options**: CSV, Excel, PDF reports

#### ğŸ’° Cost Analysis
- **Model Usage Distribution**: Haiku/Sonnet/Opus usage percentages
- **API Costs**: Token consumption and cost tracking
- **Optimization Impact**: Token savings and efficiency metrics
- **Trend Analysis**: Historical cost patterns

#### ğŸ“ˆ Performance Metrics
- **Response Times**: Average, min, max response times
- **Context Usage**: Real-time token consumption monitoring
- **Cache Performance**: Hit rates and efficiency
- **Error Tracking**: Failure prevention statistics

---

### Memory System Integration (v2.12)

#### ğŸ”§ 8-9 Daemon Health Monitoring
Real-time status of all automation daemons:

| Daemon | Interval | Purpose |
|--------|----------|---------|
| **context-daemon** | 10 min | Monitor context usage |
| **session-auto-save-daemon** | 15 min | Auto-save sessions |
| **preference-auto-tracker** | 20 min | Learn user preferences |
| **skill-auto-suggester** | 5 min | Suggest relevant skills |
| **commit-daemon** | 15 min | Auto-commit changes |
| **session-pruning-daemon** | Monthly | Clean old sessions |
| **pattern-detection-daemon** | Monthly | Detect cross-project patterns |
| **failure-prevention-daemon** | 6 hours | Learn from failures |
| **token-optimization-daemon** | 5 min | Continuous optimization (optional) |

**Monitoring Features:**
- âœ… PID tracking for each daemon
- ğŸ“Š Last activity timestamps
- ğŸ”´ Status indicators (running, stopped, error, not_started)
- ğŸ”„ Auto-restart detection
- ğŸ“ˆ Uptime statistics

#### ğŸ“œ 10 Policy Enforcement Tracking
Monitor all active policies in real-time:

1. **Core Skills Mandate**: Enforced execution order
2. **Model Selection**: Haiku/Sonnet/Opus usage tracking
3. **Proactive Consultation**: User preference learning
4. **Session Memory**: Auto-save and restore
5. **Failure Prevention**: Auto-fix patterns
6. **File Management**: Smart file operations
7. **Git Auto-Commit**: Automatic commits
8. **User Preferences**: Preference storage
9. **Session Pruning**: Old session cleanup
10. **Context Integration**: Context + session sync

**Tracking Features:**
- ğŸ“ˆ Enforcement metrics (times each policy applied)
- ğŸ“ Recent activity (last 10 enforcement actions)
- âœ… Compliance status

#### ğŸ’¾ Context Optimization Metrics
- ğŸ“Š **Cache Statistics**: Cache size and file count
- ğŸ¯ **Cache Hit Rate**: Successful cache retrievals
- ğŸ’° **Token Savings**: Estimated tokens saved (~500 per hit)
- âš¡ **Optimizations Applied**: Total optimization count
- ğŸ“ˆ **Efficiency Score**: Overall cache effectiveness

#### ğŸ›¡ï¸ Failure Prevention Statistics
- **Failures Prevented**: Total failures caught
- **Auto-Fixes Applied**: Automatic corrections made
- **Patterns Learned**: Knowledge base size (15+ initial patterns)
- **By Tool**: Breakdown by tool (Bash, Edit, Read, Grep, Git)
- **Recent Fixes**: Last 10 auto-fix applications
- **Success Rate**: Percentage of prevented failures

#### ğŸ“Š Model Selection Distribution
- **Haiku Usage**: Fast searches and reads (target: 35-45%)
- **Sonnet Usage**: Implementation and editing (target: 50-60%)
- **Opus Usage**: Architecture and planning (target: 3-8%)
- **Compliance**: Whether usage matches policy targets
- **Cost Impact**: Savings from correct model selection

#### ğŸ’¾ Session Memory Statistics
- **Total Sessions**: All project sessions
- **Active Sessions**: Modified in last 7 days
- **Pruned Sessions**: Cleaned up sessions
- **Total Size**: Storage used by sessions (MB)
- **Session Health**: Storage efficiency

#### ğŸ“ Git Auto-Commit Activity
- **Total Commits**: All auto-commits made
- **Commits Today**: Today's commit count
- **Commits This Week**: Weekly commit activity
- **Recent Commits**: Last 10 commit messages
- **Commit Frequency**: Average commits per day

#### ğŸ¥ System Health Score
Weighted health calculation (0-100):
- ğŸ”§ **Daemon Health** (40%): Running daemon percentage
- ğŸš¨ **Critical Health** (30%): Critical daemon status
- ğŸ“‹ **Policy Activity** (20%): Recent policy usage
- ğŸ’¾ **Cache Efficiency** (10%): Cache effectiveness

**Health Status:**
- âœ… **Healthy** (80+)
- âš ï¸ **Degraded** (60-79)
- ğŸ”´ **Critical** (<60)

---

### Alert Routing & Escalation (v2.11)

#### ğŸš¨ Custom Routing Rules
Route alerts based on multiple criteria:
- **Severity**: Critical, warning, info
- **Metric Type**: CPU, memory, context, daemon, policy
- **Time-based**: Business hours, after hours, weekends
- **Tag-based**: Environment, service, component

#### ğŸ“¢ Multi-Level Escalation
- **Up to 3+ escalation levels** with configurable timeouts
- **Automatic escalation** if alerts not acknowledged
- **On-call schedules** with weekly rotation
- **Auto-calculation** of current on-call personnel

#### ğŸ“¬ Notification Channels
- **Email**: SMTP integration (Gmail, Outlook, custom)
- **SMS**: Twilio-powered text notifications
- **Slack**: Webhook integration
- **Custom Webhooks**: Integrate with any system

#### ğŸ”„ Alert Lifecycle
```
Create â†’ Route â†’ Notify â†’ Escalate â†’ Acknowledge â†’ Resolve
```

---

### Predictive Analytics (v2.10)

#### ğŸ“ˆ 5 Forecasting Algorithms
1. **Linear Regression**: Trend-based prediction
2. **Exponential Smoothing**: Weighted recent data
3. **Moving Average**: Smoothed historical average
4. **Seasonal Analysis**: Pattern-based forecasting
5. **Ensemble Model**: Combined algorithm consensus

#### ğŸ”® Time Series Forecasting
- **Predict future metric values** with confidence intervals
- **Forecast horizons**: 24 hours, 72 hours, 7 days (customizable)
- **Confidence levels**: 95%, 90%, 80%
- **Trend detection**: Upward, downward, stable, volatile

#### âš ï¸ Capacity Planning
- **Breach prediction**: Identify when thresholds will be exceeded
- **Time-to-breach**: Calculate days/hours until capacity limit
- **Proactive alerts**: Warn before issues occur
- **Resource recommendations**: Suggest optimization actions

#### ğŸ§  AI Insights
- **Trend analysis**: Identify long-term patterns
- **Pattern recognition**: Detect recurring behaviors
- **Recommendations**: AI-generated optimization suggestions

---

### AI Anomaly Detection (v2.9)

#### ğŸ¤– 6 ML Algorithms
1. **Z-Score Analysis**: Statistical outlier detection
2. **IQR Method**: Interquartile range analysis
3. **Moving Average**: Deviation from rolling average
4. **Exponential Smoothing**: Weighted deviation detection
5. **Spike Detection**: Sudden value changes
6. **Trend Analysis**: Long-term pattern deviations

#### ğŸ¯ Ensemble Detection
- **Anomaly triggered** when 2+ algorithms agree
- **Confidence scoring**: 0-100% based on algorithm consensus
- **Severity classification**: Critical, high, medium, low
- **False positive reduction**: Through ensemble approach

#### ğŸ’¡ AI Insights
- **Pattern-based insights**: "Value 45% above rolling average"
- **Recommendations**: "Consider scaling resources"
- **Historical context**: Compare to similar patterns

#### ğŸ“Š Anomaly Management
- **Acknowledge**: Mark anomaly as seen
- **Resolve**: Close with resolution notes
- **Audit trail**: Full anomaly lifecycle tracking
- **Analytics**: Anomaly frequency and trends

---

### Community Marketplace (v2.7-v2.13)

#### ğŸ¨ Advanced Widget Builder
- **Drag-and-drop editor**: Visual widget creation
- **15+ components**: Charts, metrics, tables, gauges, dashboards
- **Live preview**: Real-time widget preview canvas
- **Code editor**: HTML, CSS, JavaScript with syntax highlighting
- **Template library**: Pre-built widget templates

#### ğŸŒ Widget Marketplace
- **Share widgets**: Publish to community marketplace
- **Browse catalog**: Discover widgets by category
- **5-star rating system**: Rate and review widgets
- **Download tracking**: Monitor widget popularity
- **Author profiles**: Track creator contributions

---

### Widget Collaboration (v2.13)

#### ğŸ¤ Real-time Collaborative Editing
- **Multi-user editing**: Build widgets together in real-time
- **Live cursors**: See other users' cursors with names
- **Operation sync**: Instant synchronization across users
- **Line locking**: Prevent conflicts (5-min timeout)
- **Collaboration chat**: Built-in messaging
- **Session management**: 2-hour sessions with auto-cleanup
- **User colors**: 8 unique colors for visual identification
- **Auto-reconnect**: Seamless reconnection handling

#### ğŸ“š Version Control & History
- **Semantic versioning**: Professional version management (major.minor.patch)
- **Version timeline**: Visual history of all changes
- **Diff viewer**: Line-by-line comparison with syntax highlighting
- **Rollback**: Restore previous versions with one click
- **Commit messages**: Descriptive change logs
- **Auto-versioning**: Automatic version creation on edits
- **Component tracking**: Track HTML/CSS/JS changes separately

#### ğŸ’¬ Comments & Discussions
- **Threaded discussions**: Multi-level comment threads
- **@Mentions**: Tag and notify other users
- **Emoji reactions**: ğŸ‘, â¤ï¸, etc.
- **Real-time notifications**: Instant mention alerts
- **Edit/Delete**: Full comment management
- **Moderation**: Soft delete with audit trail
- **XSS protection**: Sanitized content for security

#### â­ Featured & Trending Widgets
- **Trending score algorithm**: Weighted scoring
  - 40% Downloads
  - 30% Ratings
  - 20% Comments
  - 10% Recency
- **Featured carousel**: Admin-curated highlights
- **Multi-period trending**: 24h, 7d, 30d views
- **Rank indicators**: 1st/2nd/3rd badges with trend arrows
- **Smart caching**: 60-minute cache for performance
- **Category filters**: Browse by type and timeframe

---

## Quick Start

### Get Started in 5 Minutes

#### 1. Clone the Repository
```bash
git clone https://github.com/piyushmakhija28/claude-insight.git
cd claude-insight
```

#### 2. Install Dependencies
```bash
pip install -r requirements.txt
```

**Packages installed (14 total):**
- Flask 3.0 + SocketIO 5.3.6 (Web framework)
- psutil 5.9.8 (Process monitoring)
- NumPy 1.24.3 (Statistical analysis)
- Twilio 8.10.0 (SMS notifications)
- bcrypt, openpyxl, reportlab, flasgger, etc.

#### 3. Run the Application
```bash
python app.py
```

**Access the dashboard:**
- URL: http://localhost:5000
- Username: `admin`
- Password: `admin`

#### 4. Deploy Memory System Files (Optional)
```bash
# Windows (PowerShell)
xcopy /E /I /Y claude-memory-system\* %USERPROFILE%\.claude\memory\

# Linux/Mac
cp -r claude-memory-system/* ~/.claude/memory/
```

**Start the daemons:**
```bash
# Windows
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1

# Linux/Mac
bash ~/.claude/memory/startup-hook.sh
```

---

## What's Included

### Memory System Files (139 files in `claude-memory-system/`)

#### ğŸ“– Complete Documentation
- **MASTER-README.md**: Complete consolidated guide (1,500+ lines)
  - 14 major sections with 100+ indexed subsections
  - All policies, Java standards, optimization strategies
  - Security best practices, database standards
  - Complete command reference

#### ğŸ”§ Daemon Scripts (8-9)
- `context-daemon.py` - Monitor context usage (every 10 min)
- `session-auto-save-daemon.py` - Auto-save sessions (every 15 min)
- `preference-auto-tracker.py` - Learn preferences (every 20 min)
- `skill-auto-suggester.py` - Suggest skills (every 5 min)
- `commit-daemon.py` - Auto-commit changes (on triggers)
- `session-pruning-daemon.py` - Clean old sessions (monthly)
- `pattern-detection-daemon.py` - Detect patterns (monthly)
- `failure-prevention-daemon.py` - Learn from failures (every 6 hours)
- `token-optimization-daemon.py` - Continuous optimization (optional)

#### ğŸ¤– Automation Scripts (81)
**Context Optimization:**
- `context-cache.py` - Tiered caching (hot/warm/cold)
- `context-estimator.py` - Token estimation
- `context-extractor.py` - Essential info extraction
- `pre-execution-optimizer.py` - Pre-tool optimization

**Token Optimization:**
- `ast-code-navigator.py` - AST-based code navigation
- `file-type-optimizer.py` - File-type specific optimization
- `smart-file-summarizer.py` - Intelligent summarization
- `tiered-cache.py` - Multi-tier caching

**Failure Prevention:**
- `failure-detector-v2.py` - Pattern detection
- `failure-learner.py` - Knowledge base learning
- `failure-solution-learner.py` - Solution tracking
- `pre-execution-checker.py` - Pre-tool validation

**Model Selection:**
- `model-selection-enforcer.py` - Model recommendation
- `model-selection-monitor.py` - Usage tracking

**Policy Enforcement:**
- `core-skills-enforcer.py` - Skills enforcement
- `consultation-tracker.py` - User preference tracking

**Session Management:**
- `auto-save-session.py` - Session auto-save
- `session-state.py` - External memory management
- `archive-old-sessions.py` - Session archiving

**Git Automation:**
- `auto-commit.py` - Automatic commits
- `auto-commit-detector.py` - Commit triggers
- `trigger-auto-commit.py` - Trigger detection

**And 60+ more automation scripts!**

#### ğŸ“œ Policy Files (12 active + documentation)
1. `core-skills-mandate.md` - Execution order enforcement
2. `model-selection-enforcement.md` - Cost optimization
3. `common-failures-prevention.md` - Self-learning fixes
4. `CONTEXT-SESSION-INTEGRATION.md` - Memory management
5. `file-management-policy.md` - File operations
6. `git-auto-commit-policy.md` - Git automation
7. `proactive-consultation-policy.md` - User collaboration
8. `session-memory-policy.md` - Persistent memory
9. `session-pruning-policy.md` - Session cleanup
10. `user-preferences-policy.md` - Preference learning
11. `cross-project-patterns-policy.md` - Pattern detection
12. `test-case-policy.md` - Testing standards

**Documentation (38 files):**
- Quick start guides
- Implementation summaries
- Troubleshooting guides
- API references
- System overviews

#### â˜• Java Spring Boot Documentation (10 files in `docs/`)
- `java-project-structure.md` - Package structure and conventions
- `spring-cloud-config.md` - Config server setup
- `secret-management.md` - Secret management details
- `api-design-standards.md` - REST API conventions
- `error-handling-standards.md` - Exception patterns
- `security-best-practices.md` - Security guidelines
- `logging-standards.md` - Logging best practices
- `database-standards.md` - Database patterns
- `java-agent-strategy.md` - Agent collaboration
- `git-and-context.md` - Git rules and context

---

## Claude Memory System Overview

The Claude Memory System v2.2.0 is a comprehensive automation framework that makes Claude Code intelligent, efficient, and reliable.

### Core Benefits

ğŸš€ **60-80% Token Savings**
- Intelligent caching (hot/warm/cold tiers)
- Smart file summarization
- Diff-based editing
- AST-based code navigation
- 15 optimization strategies working together

ğŸ›¡ï¸ **Self-Learning Failure Prevention**
- Same error never happens twice
- 15+ initial failure patterns
- Auto-fix confidence scoring
- 900-2900 tokens saved per prevented failure

ğŸ¯ **Automatic Model Selection**
- Optimal cost/performance balance
- Haiku for search (35-45%)
- Sonnet for implementation (50-60%)
- Opus for architecture (3-8%)

ğŸ’¾ **100% Local Persistent Memory**
- Full session continuity across restarts
- Protected session files (never deleted)
- Automatic session save every 15 min
- Cross-project pattern learning

ğŸ‘¤ **User Preference Learning**
- Stops asking repeated questions
- Tracks decision patterns
- Project-specific preferences
- Transparent consultation

ğŸ¤– **8-9 Background Daemons**
- Continuous optimization
- Zero manual intervention
- Auto-start on system login
- Health monitoring

â˜• **Java Spring Boot Standards**
- Enforced best practices
- Package structure conventions
- API response patterns
- Security guidelines

---

## Complete Documentation

### Documentation Location

All documentation is in the `claude-memory-system/` folder:

ğŸ“– **[MASTER-README.md](./claude-memory-system/MASTER-README.md)** - Complete consolidated guide
- 14 major sections with 100+ indexed subsections
- All policies, Java standards, optimization strategies
- Security best practices, database standards
- Complete command reference

ğŸ“ **[docs/](./claude-memory-system/docs/)** - Java Spring Boot Documentation (10 files)
- Project structure, patterns, conventions
- Spring Cloud Config, Secret Management
- API design, error handling, security
- Logging standards, database optimization

ğŸ“œ **[Policies Documentation](./claude-memory-system/)** - System Policies (12 files)
- Core skills mandate, model selection
- Failure prevention, context optimization
- Session memory, user preferences
- Git auto-commit, testing strategies

### Quick Links

| Resource | Link |
|----------|------|
| **Complete Documentation** | [claude-memory-system/MASTER-README.md](./claude-memory-system/MASTER-README.md) |
| **Java Standards** | [claude-memory-system/docs/](./claude-memory-system/docs/) |
| **Quick Start** | [claude-memory-system/MEMORY-SYSTEM-QUICKSTART.md](./claude-memory-system/MEMORY-SYSTEM-QUICKSTART.md) |
| **Architecture** | [claude-memory-system/HOW-IT-WORKS.md](./claude-memory-system/HOW-IT-WORKS.md) |
| **API Reference** | [claude-memory-system/API-REFERENCE.md](./claude-memory-system/API-REFERENCE.md) |

---

## System Architecture

### Execution Flow (Every Request)

```
1. Context Check (REQUIRED)
   â†“
   context-monitor-v2.py --current-status
   If >70%: Apply optimizations

2. Model Selection (REQUIRED)
   â†“
   model-selection-enforcer.py --analyze "message"
   Use recommended model

3. Skill Detection (OPTIONAL)
   â†“
   core-skills-enforcer.py --next-skill
   Execute if mandatory

4. Failure Prevention (BEFORE EVERY TOOL)
   â†“
   pre-execution-checker.py --tool {TOOL}
   Apply auto-fixes

5. Execute Task
   â†“
   Use optimized tool parameters
   Apply offset/limit/head_limit

6. Session Save (ON MILESTONES)
   â†“
   Auto-triggered by daemon

7. Git Auto-Commit (ON COMPLETION)
   â†“
   Auto-triggered by daemon

8. Logging (ALWAYS)
   â†“
   Log policy applications
```

### Background Automation

**Continuous (Every 5-20 min):**
- Context usage monitored
- Sessions auto-saved
- Preferences learned
- Skills suggested
- Token optimization applied

**Periodic (Daily/Weekly/Monthly):**
- Failures analyzed and learned
- Cross-project patterns detected
- Old sessions archived
- System health checked

**Event-Driven:**
- Git commits on completion
- Context cleanup on threshold
- Daemon auto-restart on failure

---

## 12 Active Policies

### 1. Core Skills Mandate
**Purpose:** System-level enforcement of mandatory execution flow

**5 Mandatory Skills (In Order):**
1. Context Management - Always validate context first
2. Model Selection - Always choose correct model
3. Adaptive Skill Intelligence - Auto-detect relevant skills
4. Task Planning Intelligence - Score complexity (0-10)
5. Phased Execution Intelligence - Score task size (0-10)

**Critical Protection:**
- Session files NEVER deleted
- Policy files PROTECTED
- Logs PROTECTED

### 2. Model Selection Enforcement
**Purpose:** Ensure correct model usage for cost optimization

| Task Type | Model | Savings |
|-----------|-------|---------|
| Search/Find | Haiku | 96% cost reduction |
| Implementation | Sonnet | Balanced cost/performance |
| Architecture | Opus | Maximum capability |

**Healthy Distribution:**
- Haiku: 35-45%
- Sonnet: 50-60%
- Opus: 3-8%

### 3. Common Failures Prevention
**Purpose:** Self-learning failure knowledge base

**Auto-Fixes Applied:**
- Bash: `del` â†’ `rm`, `copy` â†’ `cp`, etc.
- Edit: Strip line number prefixes
- Read: Auto-add offset/limit for large files
- Grep: Auto-add head_limit
- Git: Stage files before commit

**Token Savings:** 900-2900 per prevented failure

### 4. Context-Session Integration
**Purpose:** Separate temporary vs persistent memory

**Protected Directories (NEVER Cleanup):**
- `~/.claude/memory/sessions/**`
- `~/.claude/memory/*.md`
- `~/.claude/settings*.json`
- `~/.claude/memory/logs/**`

**Context Thresholds:**
- <70%: ğŸŸ¢ GREEN - Continue normally
- 70-84%: ğŸŸ¡ YELLOW - Use cache, optimize
- 85-89%: ğŸŸ  ORANGE - Use session state
- 90%+: ğŸ”´ RED - Save session, compact

### 5. File Management Policy
**Purpose:** Clean working directory & intelligent large file handling

**Rules:**
1. Temporary files â†’ Use system temp
2. Single README.md preferred
3. Large files >500 lines â†’ Smart strategies

**Large File Strategy:**
- Step 1: Structure read (100 lines)
- Step 2: Targeted read (offset+limit)
- Step 3: Smart edit (use Edit tool)
- **Savings:** 80-95%

### 6. Git Auto-Commit Policy
**Purpose:** Automatic commit/push on completion events

**Triggers:**
1. Phase completion
2. Todo completion
3. Periodic checkpoints (every 30 min or 3-5 files)

**Safety Rules:**
- NEVER force push
- Respect hooks
- Inform user always
- Check .git directory

**Repository Rules:**
- Always "main" branch (NEVER "master")
- Always private (unless explicitly public)

### 7. Proactive Consultation Policy
**Purpose:** Transparent decision-making with user collaboration

**When to Ask:**
- Planning decision (complexity 4-6)
- Phased execution (task size 3-5)
- Model/approach uncertainty
- Technology/library choice

**When NOT to Ask:**
- Clear scores (0-3 or 7-10)
- User already specified
- Previous decision in session
- Trivial tasks

### 8. Session Memory Policy
**Purpose:** 100% local persistent memory across sessions

**How It Works:**
1. **At Session Start:** Auto-load `project-summary.md`
2. **During Session:** Track decisions, files, context
3. **At Session End:** Auto-save session summary

**What to Capture:**
- Technical decisions
- User preferences (project-specific)
- Files modified
- Pending work
- Important context

**Protected from Context Cleanup:** 100% Protected

### 9. Session Pruning Policy
**Purpose:** Automatic cleanup of old sessions

**Pruning Rules:**
- Keep sessions modified in last 30 days
- Archive sessions 31-90 days old
- Delete archived sessions >90 days old

**Safe to Archive:**
- All tasks completed
- No pending work
- No errors
- Auto-commit done

**Never Prune:**
- Active sessions (<30 days)
- Sessions with errors
- Explicitly protected sessions

### 10. User Preferences Policy
**Purpose:** Learn and auto-apply user preferences

**Preference Types:**
- Planning mode (use/skip)
- Testing approach (TDD/after/skip)
- API style (REST/GraphQL)
- Error handling (exceptions/codes)
- Commit frequency (phase/file/manual)

**Learning Strategy:**
- Track user choices
- Apply automatically after 2-3 consistent choices
- Never ask same question twice

### 11. Cross-Project Patterns Policy
**Purpose:** Learn patterns across projects and auto-apply

**Pattern Detection:**
- Monthly analysis of all project sessions
- Identify common solutions
- Track success rates
- Build pattern library

**Auto-Application:**
- Suggest patterns when applicable
- Apply high-confidence patterns (>80%)
- Learn from user feedback

### 12. Test Case Policy
**Purpose:** Consistent testing approach

**Testing Strategy:**
- Unit tests for business logic
- Integration tests for APIs
- E2E tests for critical flows

**Coverage Targets:**
- Business logic: 80%+
- Controllers: 60%+
- Overall: 70%+

---

## Java Spring Boot Standards

### Project Structure

**Base Package:** `com.techdeveloper.${projectname}`

**Package Structure:**

| Package | Purpose |
|---------|---------|
| `controller` | REST endpoints |
| `dto` | Response objects |
| `form` | Request objects |
| `constants` | All constants/enums |
| `services` | Interfaces only |
| `services.impl` | Package-private implementations |
| `services.helper` | Helper classes |
| `entity` | Database entities |
| `repository` | Data access |

### Mandatory Patterns

1. **All responses use `ApiResponseDto<T>`**
   ```java
   public ApiResponseDto<UserDto> getUser(Long id) {
       return ApiResponseDto.success(userDto);
   }
   ```

2. **Form classes extend `ValidationMessageConstants`**
   ```java
   public class UserForm extends ValidationMessageConstants {
       @NotBlank(message = REQUIRED_FIELD)
       private String email;
   }
   ```

3. **Service impl extends Helper**
   ```java
   @Service
   class UserServiceImpl extends UserServiceHelper implements UserService {
       // Implementation
   }
   ```

4. **NO hardcoded messages** (use constants)
   ```java
   public static final String USER_NOT_FOUND = "User not found";
   ```

5. **`@Transactional` for all write operations**
   ```java
   @Transactional
   public User createUser(UserForm form) {
       // Save user
   }
   ```

### Quality Checklist
- âœ… `ApiResponseDto<T>` used?
- âœ… DTO vs Form separate?
- âœ… Messages in constants?
- âœ… Service impl package-private?
- âœ… Service impl extends helper?

---

## Spring Boot Configuration

### Spring Cloud Config Server

**ğŸ“– Full docs:** [claude-memory-system/docs/spring-cloud-config.md](./claude-memory-system/docs/spring-cloud-config.md)

**Config Location:**
```
techdeveloper/backend/techdeveloper-config-server/configurations/
â”œâ”€â”€ application.yml                    # Global (ALL services)
â”œâ”€â”€ {project}/common/*.yml             # Project common
â””â”€â”€ {project}/services/{service}.yml   # Service-specific
```

**Microservice application.yml (ONLY THIS!):**
```yaml
spring:
  application:
    name: service-name
  config:
    import: "configserver:http://localhost:8888"
  cloud:
    config:
      fail-fast: true
      retry:
        enabled: true

secret-manager:
  client:
    enabled: true
    project-name: "project-name"
```

**âŒ NEVER add to microservice application.yml:**
- Redis config (in config server)
- Feign config (in config server)
- Database config (in config server)
- Email config (in config server)
- Port numbers (in config server)

### Secret Management

**ğŸ“– Full docs:** [claude-memory-system/docs/secret-management.md](./claude-memory-system/docs/secret-management.md)

**Services:**
- Secret Manager: port 1002
- Project Management: port 8109

**How it works:**
- Secrets fetched at startup
- Injected as `${SECRET_KEY}`
- **ğŸš¨ NEVER hardcode secrets!**

**Microservice config:**
```yaml
secret-manager:
  client:
    enabled: true
    project-name: "project-name"
    base-url: "http://localhost:8085/api/v1/secrets"
```

---

## Installation Guide

### Prerequisites

**Required:**
- Python 3.7 or higher
- pip (Python package manager)
- Git (for cloning repository)

**Optional (for Memory System):**
- Windows/Linux/Mac OS
- PowerShell (for Windows auto-startup)

### Step-by-Step Installation

#### 1. Clone Repository
```bash
git clone https://github.com/piyushmakhija28/claude-insight.git
cd claude-insight
```

#### 2. Install Python Dependencies
```bash
pip install -r requirements.txt
```

This installs:
- Flask 3.0 - Web framework
- Flask-SocketIO 5.3.6 - Real-time updates
- psutil 5.9.8 - Process monitoring
- NumPy 1.24.3 - Statistical analysis
- bcrypt 4.0.1 - Password hashing
- openpyxl 3.1.2 - Excel export
- reportlab 4.0.4 - PDF export
- flasgger 0.9.7.1 - API docs
- Twilio 8.10.0 - SMS alerts
- python-engineio 4.8.0 - Engine.IO
- python-socketio 5.10.0 - Socket.IO
- simple-websocket 1.0.0 - WebSocket
- wsproto 1.2.0 - WebSocket protocol
- h11 0.14.0 - HTTP/1.1

#### 3. Verify Installation
```bash
python verify_enhancements.py
```

Expected output:
```
âœ“ All imports successful
âœ“ Flask app initialized
âœ“ All utilities loaded
âœ“ System ready to run
```

---

## Configuration

### Application Settings

Edit `app.py` to customize:

```python
# Secret key for session management
app.secret_key = 'your-secret-key-here'

# SocketIO CORS settings
socketio = SocketIO(app, cors_allowed_origins="*")
```

### Memory System Configuration

**Location:** `~/.claude/memory/`

**Key Configuration Files:**
- `CLAUDE.md` - Global configuration
- `user-preferences.json` - User preferences
- `failure-kb.json` - Failure knowledge base
- `skills-registry.json` - Skill registry
- `cross-project-patterns.json` - Pattern library

### Email/SMS Alerts

Configure in Settings page (http://localhost:5000/settings):

**Email Settings:**
- SMTP Server
- SMTP Port
- Username
- Password
- From Email

**SMS Settings (Twilio):**
- Account SID
- Auth Token
- From Phone Number

---

## Memory System Setup

### First Time Setup

#### Windows Auto-Startup (One-Time)
```powershell
# Run this once to auto-start all daemons on login
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1
```

This creates:
- âœ… Startup batch script
- âœ… Silent wrapper (no console window)
- âœ… Task Scheduler entry
- âœ… All 8-9 daemons auto-start on Windows login

#### Linux/Mac Setup
```bash
# Add to ~/.bashrc or ~/.zshrc
~/.claude/memory/startup-hook.sh
```

### Verify Installation

```bash
# Check system health
bash ~/.claude/memory/verify-system.sh

# View dashboard
bash ~/.claude/memory/dashboard-v2.sh

# Check daemon status
python ~/.claude/memory/daemon-manager.py --status-all
```

**Expected Result:** 8/8 or 9/9 daemons running âœ…

### Daily Usage

**At Session Start (MANDATORY):**
```bash
# Single command - does everything!
bash ~/.claude/memory/session-start.sh
```

This automatically:
1. âœ… Starts auto-recommendation daemon (9th daemon)
2. âœ… Checks all 9 daemon PIDs and status
3. âœ… Shows latest recommendations (model, skills, agents)
4. âœ… Shows context status (OK/WARNING/CRITICAL)
5. âœ… Shows optimizations needed
6. âœ… Provides complete system health summary

**Alternative (Quick Check):**
```bash
# Just check latest recommendations
python ~/.claude/memory/check-recommendations.py
```

### During Work

The system works automatically:
- âœ… Context monitored every 10 min
- âœ… Sessions auto-saved every 15 min
- âœ… Preferences learned every 20 min
- âœ… Skills suggested every 5 min
- âœ… Failures prevented on every tool call
- âœ… Git commits triggered on completion
- âœ… Token optimization applied continuously

**You just code - the system handles everything!**

---

## Running the Application

### Start the Server

```bash
python app.py
```

Expected output:
```
 * Running on http://127.0.0.1:5000
 * SocketIO server started
 * Dashboard ready at http://localhost:5000
```

### Access the Dashboard

1. Open browser: http://localhost:5000
2. Login:
   - Username: `admin`
   - Password: `admin`
3. Explore the dashboard!

### Production Deployment

For production, use a WSGI server:

```bash
# Install gunicorn
pip install gunicorn

# Run with gunicorn
gunicorn -w 4 -b 0.0.0.0:5000 --worker-class eventlet app:app
```

Or use Docker:

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

CMD ["gunicorn", "-w", "4", "-b", "0.0.0.0:5000", "--worker-class", "eventlet", "app:app"]
```

---

## How to Use

### Dashboard Navigation

#### Main Dashboard
- **System Health Score**: Overall health (0-100)
- **Daemon Status**: All 8-9 daemons
- **Policy Enforcement**: Recent policy activity
- **Context Usage**: Real-time token consumption
- **Model Distribution**: Haiku/Sonnet/Opus usage

#### Memory System Page
- **Daemon Health Grid**: Visual daemon status
- **Policy Compliance**: All 12 policies
- **Context Optimization**: Cache statistics
- **Failure Prevention**: Auto-fix tracking
- **Session Memory**: Active sessions
- **Git Activity**: Recent commits

#### Analytics Page
- **Cost Analysis**: Model usage and costs
- **Performance Metrics**: Response times
- **Token Optimization**: Savings metrics
- **Historical Trends**: Time-series charts

#### Anomaly Detection Page
- **AI Detection**: 6 ML algorithms
- **Anomaly List**: Recent anomalies
- **Insights**: Pattern analysis
- **Management**: Acknowledge/resolve

#### Predictive Analytics Page
- **Forecasting**: 5 algorithms
- **Capacity Planning**: Breach prediction
- **Time Series**: Future projections
- **Recommendations**: AI insights

#### Alert Routing Page
- **Routing Rules**: Configure routing
- **Escalation Levels**: Set up escalation
- **On-Call Schedule**: Weekly rotation
- **Alert History**: Track alerts

#### Logs Page
- **Real-time Logs**: Live log streaming
- **Filter Logs**: By daemon, level, date
- **Export Logs**: CSV, Excel, PDF

#### Settings Page
- **Email Alerts**: Configure SMTP
- **SMS Alerts**: Configure Twilio
- **Themes**: 6 custom themes
- **Alert Rules**: Quiet hours, rate limiting

### Widget Builder

#### Create Widget
1. Click "Widget Builder" in sidebar
2. Drag components from palette
3. Configure properties
4. Preview in real-time
5. Edit HTML/CSS/JS code
6. Save widget

#### Publish to Marketplace
1. Click "Publish to Marketplace"
2. Fill in details (name, description, category)
3. Set price (free or paid)
4. Submit for review
5. Widget appears in marketplace

#### Collaborate on Widget
1. Open widget in builder
2. Click "Start Collaboration"
3. Share session code with team
4. Edit together in real-time
5. See live cursors and changes
6. Chat with collaborators
7. Lock lines to prevent conflicts

#### Version Control
1. View version timeline
2. Compare versions (diff viewer)
3. Rollback to previous version
4. Add commit messages

#### Comments & Discussions
1. Add comments to widget
2. @mention other users
3. React with emojis
4. Reply to comments (threaded)
5. Get notifications on mentions

---

## API Reference

### Memory System APIs

#### Get Health Statistics
```http
GET /api/memory-system/health
```

**Response:**
```json
{
  "overall_health_score": 85,
  "health_status": "healthy",
  "daemon_health": {
    "running": 8,
    "total": 8,
    "percentage": 100
  },
  "policy_enforcement": {
    "active_policies": 10,
    "recent_enforcements": 45
  },
  "context_optimization": {
    "cache_hits": 120,
    "token_savings": 60000
  }
}
```

#### Get Daemon Status
```http
GET /api/memory-system/daemons
```

**Response:**
```json
{
  "daemons": [
    {
      "name": "context-daemon",
      "status": "running",
      "pid": 12345,
      "last_activity": "2026-02-15T10:30:00",
      "uptime_hours": 24.5
    }
  ]
}
```

#### Get Policy Status
```http
GET /api/memory-system/policies
```

**Response:**
```json
{
  "policies": [
    {
      "name": "Core Skills Mandate",
      "status": "active",
      "enforcements": 150,
      "last_enforcement": "2026-02-15T10:25:00"
    }
  ]
}
```

### Anomaly Detection APIs

#### Get Anomalies
```http
GET /api/anomaly-detection/anomalies
```

#### Acknowledge Anomaly
```http
POST /api/anomaly-detection/anomalies/{id}/acknowledge
```

#### Resolve Anomaly
```http
POST /api/anomaly-detection/anomalies/{id}/resolve
Content-Type: application/json

{
  "resolution_notes": "Resolved by scaling resources"
}
```

### Predictive Analytics APIs

#### Get Forecast
```http
GET /api/predictive-analytics/forecast/{metric_name}?horizon=24h&algorithm=ensemble
```

#### Get Capacity Planning
```http
GET /api/predictive-analytics/capacity-planning/{metric_name}?threshold=80
```

### Alert Routing APIs

#### Create Routing Rule
```http
POST /api/alert-routing/rules
Content-Type: application/json

{
  "name": "Critical Alerts to Ops Team",
  "conditions": {
    "severity": "critical",
    "metric_type": "cpu"
  },
  "actions": {
    "notify": ["ops@example.com"],
    "escalate_after_minutes": 15
  }
}
```

#### Get On-Call Schedule
```http
GET /api/alert-routing/on-call-schedule
```

### Widget Collaboration APIs

#### Start Collaboration Session
```http
POST /api/widgets/{id}/collaborate/start
```

#### Get Widget Versions
```http
GET /api/widgets/{id}/versions
```

#### Create Version
```http
POST /api/widgets/{id}/versions
Content-Type: application/json

{
  "commit_message": "Added new chart component"
}
```

#### Get Version Diff
```http
GET /api/widgets/{id}/versions/{v1}/diff/{v2}
```

#### Add Comment
```http
POST /api/widgets/{id}/comments
Content-Type: application/json

{
  "content": "Great widget! @john consider adding dark mode support",
  "parent_id": null
}
```

#### Get Trending Widgets
```http
GET /api/widgets/trending?period=7d&limit=10
```

### Complete API Documentation

Full Swagger documentation available at: **http://localhost:5000/api/docs**

---

## Metrics Tracked

### System Metrics
- **CPU Usage**: Daemon CPU consumption
- **Memory Usage**: Daemon memory consumption
- **Disk Usage**: Session storage size
- **Network Usage**: API calls and bandwidth

### Context Metrics
- **Context Usage**: Token consumption percentage
- **Cache Hit Rate**: Cache efficiency
- **Token Savings**: Estimated tokens saved
- **Optimizations Applied**: Count of optimizations

### Policy Metrics
- **Enforcement Count**: Times each policy applied
- **Compliance Rate**: Policy adherence percentage
- **Violations**: Policy violations detected

### Daemon Metrics
- **Uptime**: Running time for each daemon
- **Last Activity**: Timestamp of last activity
- **Restart Count**: Number of restarts
- **Error Count**: Errors encountered

### Model Metrics
- **Haiku Usage**: Percentage and count
- **Sonnet Usage**: Percentage and count
- **Opus Usage**: Percentage and count
- **Total Requests**: All API requests
- **Cost Breakdown**: Estimated costs

### Failure Metrics
- **Failures Prevented**: Total failures caught
- **Auto-Fixes Applied**: Automatic corrections
- **Patterns Learned**: Knowledge base size
- **Success Rate**: Prevention success rate

### Session Metrics
- **Active Sessions**: Sessions in last 7 days
- **Total Sessions**: All project sessions
- **Pruned Sessions**: Cleaned up sessions
- **Storage Size**: Total storage used

### Git Metrics
- **Total Commits**: All auto-commits
- **Commits Today**: Today's commits
- **Commits This Week**: Weekly commits
- **Commit Frequency**: Average per day

### Widget Metrics
- **Total Widgets**: All widgets created
- **Published Widgets**: Marketplace widgets
- **Downloads**: Widget download count
- **Ratings**: Average rating
- **Comments**: Comment count
- **Active Collaborations**: Live collaboration sessions

---

## Project Structure

```
claude-insight/
â”œâ”€â”€ app.py                          # Main Flask application (3,560 lines)
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ verify_enhancements.py          # Installation verification
â”œâ”€â”€ LICENSE                         # MIT License
â”œâ”€â”€ README.md                       # This file
â”‚
â”œâ”€â”€ templates/                      # HTML templates
â”‚   â”œâ”€â”€ base.html                   # Base template with navigation
â”‚   â”œâ”€â”€ dashboard.html              # Main dashboard
â”‚   â”œâ”€â”€ login.html                  # Login page
â”‚   â”œâ”€â”€ policies.html               # Policy monitoring
â”‚   â”œâ”€â”€ logs.html                   # Log viewer
â”‚   â”œâ”€â”€ sessions.html               # Session tracking
â”‚   â”œâ”€â”€ analytics.html              # Analytics page
â”‚   â”œâ”€â”€ anomaly-detection.html      # Anomaly detection
â”‚   â”œâ”€â”€ predictive-analytics.html   # Forecasting
â”‚   â”œâ”€â”€ alert-routing.html          # Alert routing
â”‚   â”œâ”€â”€ notifications.html          # Notification center
â”‚   â”œâ”€â”€ settings.html               # Settings page
â”‚   â”œâ”€â”€ widgets.html                # Widget list
â”‚   â”œâ”€â”€ widget-builder.html         # Widget builder
â”‚   â”œâ”€â”€ community-marketplace.html  # Marketplace
â”‚   â”œâ”€â”€ comparison.html             # Comparison tool
â”‚   â”œâ”€â”€ 404.html                    # Error page
â”‚   â””â”€â”€ 500.html                    # Error page
â”‚
â”œâ”€â”€ static/                         # Static files
â”‚   â”œâ”€â”€ css/                        # Stylesheets
â”‚   â”‚   â”œâ”€â”€ main.css                # Main styles
â”‚   â”‚   â”œâ”€â”€ themes.css              # Theme styles
â”‚   â”‚   â””â”€â”€ widgets.css             # Widget styles
â”‚   â””â”€â”€ js/                         # JavaScript files
â”‚       â”œâ”€â”€ main.js                 # Main scripts
â”‚       â”œâ”€â”€ widgets.js              # Widget scripts
â”‚       â”œâ”€â”€ collaboration.js        # Collaboration scripts
â”‚       â””â”€â”€ charts.js               # Chart scripts
â”‚
â”œâ”€â”€ utils/                          # Utility modules
â”‚   â”œâ”€â”€ metrics.py                  # Metrics collection
â”‚   â”œâ”€â”€ log_parser.py               # Log parsing
â”‚   â”œâ”€â”€ policy_checker.py           # Policy checking
â”‚   â”œâ”€â”€ session_tracker.py          # Session tracking
â”‚   â”œâ”€â”€ history_tracker.py          # History tracking
â”‚   â”œâ”€â”€ notification_manager.py     # Notifications
â”‚   â”œâ”€â”€ alert_sender.py             # Alert sending
â”‚   â”œâ”€â”€ community_widgets.py        # Widget management
â”‚   â”œâ”€â”€ anomaly_detector.py         # Anomaly detection
â”‚   â”œâ”€â”€ predictive_analytics.py     # Forecasting
â”‚   â”œâ”€â”€ alert_routing.py            # Alert routing
â”‚   â”œâ”€â”€ memory_system_monitor.py    # Memory system monitoring
â”‚   â”œâ”€â”€ widget_version_manager.py   # Version control
â”‚   â”œâ”€â”€ widget_comments_manager.py  # Comments
â”‚   â”œâ”€â”€ collaboration_manager.py    # Collaboration
â”‚   â””â”€â”€ trending_calculator.py      # Trending algorithm
â”‚
â”œâ”€â”€ memory_files/                   # Memory System backup (deprecated)
â”‚   â”œâ”€â”€ scripts/                    # Old scripts
â”‚   â”œâ”€â”€ daemons/                    # Old daemon files
â”‚   â””â”€â”€ policies/                   # Old policies
â”‚
â””â”€â”€ claude-memory-system/           # Memory System v2.2.0 (139 files)
    â”œâ”€â”€ MASTER-README.md            # Complete documentation (1,500+ lines)
    â”œâ”€â”€ CLAUDE.md                   # Global configuration
    â”œâ”€â”€ HOW-IT-WORKS.md             # Architecture guide
    â”œâ”€â”€ API-REFERENCE.md            # API documentation
    â”œâ”€â”€ MEMORY-SYSTEM-QUICKSTART.md # Quick start guide
    â”‚
    â”œâ”€â”€ docs/                       # Java Spring Boot docs (10 files)
    â”‚   â”œâ”€â”€ java-project-structure.md
    â”‚   â”œâ”€â”€ spring-cloud-config.md
    â”‚   â”œâ”€â”€ secret-management.md
    â”‚   â”œâ”€â”€ api-design-standards.md
    â”‚   â”œâ”€â”€ error-handling-standards.md
    â”‚   â”œâ”€â”€ security-best-practices.md
    â”‚   â”œâ”€â”€ logging-standards.md
    â”‚   â”œâ”€â”€ database-standards.md
    â”‚   â”œâ”€â”€ java-agent-strategy.md
    â”‚   â””â”€â”€ git-and-context.md
    â”‚
    â”œâ”€â”€ (daemon scripts - 8-9 files)
    â”œâ”€â”€ (automation scripts - 81 files)
    â”œâ”€â”€ (policy files - 12 active + 38 docs)
    â””â”€â”€ (configuration files - 10+ files)
```

---

## Security

### Authentication & Authorization

**Login System:**
- Bcrypt password hashing
- Session-based authentication
- CSRF protection (Flask built-in)
- Password change functionality

**Default Credentials:**
- Username: `admin`
- Password: `admin`
- **âš ï¸ Change immediately in production!**

### XSS Protection

**Input Sanitization:**
- All user inputs sanitized
- HTML escaped in templates
- Content Security Policy headers
- Widget code sandboxing

### Data Protection

**Sensitive Data:**
- Passwords hashed with bcrypt
- API keys encrypted at rest
- HTTPS recommended for production
- No secrets in logs

**Memory System Security:**
- Local-only file access
- No cloud uploads
- Protected session files
- Audit trail logging

### Best Practices

1. **Change default password** immediately
2. **Use HTTPS** in production
3. **Restrict network access** (firewall)
4. **Regular backups** of Memory System files
5. **Monitor logs** for suspicious activity
6. **Update dependencies** regularly
7. **Enable 2FA** (future enhancement)

### Security Checklist

- âœ… Input validation on all forms
- âœ… SQL injection prevention (parameterized queries)
- âœ… XSS protection (output encoding)
- âœ… CSRF tokens on state-changing requests
- âœ… Password complexity requirements
- âœ… Session timeout (30 minutes)
- âœ… Secure cookie flags (httpOnly, secure)
- âœ… Rate limiting on login
- âœ… Audit logging

---

## Troubleshooting

### Common Issues

#### Dashboard Won't Start

**Error:** `ModuleNotFoundError: No module named 'flask'`

**Solution:**
```bash
pip install -r requirements.txt
```

#### Memory System Not Detected

**Error:** "Memory system files not found"

**Solution:**
```bash
# Deploy Memory System files
cp -r claude-memory-system/* ~/.claude/memory/

# Or on Windows
xcopy /E /I /Y claude-memory-system\* %USERPROFILE%\.claude\memory\
```

#### Daemons Not Running

**Error:** "0/8 daemons running"

**Solution:**
```bash
# Start daemons manually
bash ~/.claude/memory/startup-hook.sh

# Or on Windows
powershell -ExecutionPolicy Bypass -File ~/.claude/memory/setup-windows-startup.ps1
```

#### Daemon Status Shows "Not Started"

**Solution:**
```bash
# Check daemon logs
tail -f ~/.claude/memory/logs/daemons/context-daemon.log

# Restart specific daemon
python ~/.claude/memory/daemon-manager.py --restart context-daemon
```

#### WebSocket Connection Failed

**Error:** "SocketIO connection failed"

**Solution:**
1. Check if port 5000 is blocked by firewall
2. Try different browser
3. Disable browser extensions
4. Check console for errors

#### High Memory Usage

**Solution:**
```bash
# Check which daemon is using memory
python ~/.claude/memory/daemon-manager.py --status-all

# Restart all daemons
bash ~/.claude/memory/startup-hook.sh
```

### Daemon Troubleshooting

#### Check Daemon Status
```bash
python ~/.claude/memory/daemon-manager.py --status-all
```

#### View Daemon Logs
```bash
# All daemon logs
ls ~/.claude/memory/logs/daemons/

# Specific daemon
tail -f ~/.claude/memory/logs/daemons/context-daemon.log
```

#### Restart Specific Daemon
```bash
python ~/.claude/memory/daemon-manager.py --restart context-daemon
```

#### Restart All Daemons
```bash
bash ~/.claude/memory/startup-hook.sh
```

### Memory System Troubleshooting

#### Context Issues
```bash
# Check context status
python ~/.claude/memory/context-monitor-v2.py --current-status

# Clear cache if needed
rm -rf ~/.claude/memory/.cache/*
```

#### Session Memory Issues
```bash
# Check sessions
ls -lh ~/.claude/memory/sessions/

# Archive old sessions
python ~/.claude/memory/archive-old-sessions.py
```

#### Rollback if Needed
```bash
python ~/.claude/memory/rollback.py
```

### Health Checks

#### Run Full Test Suite
```bash
python ~/.claude/memory/test-all-phases.py
```

#### Daily Health Check
```bash
bash ~/.claude/memory/daily-health-check.sh
```

#### Weekly Health Check
```bash
bash ~/.claude/memory/weekly-health-check.sh
```

#### Check for Conflicts
```bash
bash ~/.claude/memory/check-conflicts.sh
```

### Getting Help

If you encounter issues:

1. **Check logs**: `~/.claude/memory/logs/`
2. **Run health check**: `bash ~/.claude/memory/verify-system.sh`
3. **View dashboard**: `bash ~/.claude/memory/dashboard-v2.sh`
4. **Read documentation**: `claude-memory-system/MASTER-README.md`
5. **Open GitHub issue**: [Report issue](https://github.com/piyushmakhija28/claude-insight/issues)

---

## Contributing

We welcome contributions! Here's how you can help:

### How to Contribute

1. **Fork the repository**
2. **Create a feature branch**
   ```bash
   git checkout -b feature/your-feature-name
   ```
3. **Make your changes**
4. **Test thoroughly**
   ```bash
   python verify_enhancements.py
   ```
5. **Commit with descriptive message**
   ```bash
   git commit -m "feat: Add new feature description"
   ```
6. **Push to your fork**
   ```bash
   git push origin feature/your-feature-name
   ```
7. **Open a Pull Request**

### Contribution Guidelines

**Code Style:**
- Follow PEP 8 for Python code
- Use meaningful variable names
- Add comments for complex logic
- Include docstrings for functions

**Commit Messages:**
- Use conventional commits format
- `feat:` for new features
- `fix:` for bug fixes
- `docs:` for documentation
- `refactor:` for code refactoring
- `test:` for tests

**Testing:**
- Test all changes locally
- Ensure no breaking changes
- Add tests for new features
- Verify dashboard loads correctly

**Documentation:**
- Update README if needed
- Add inline comments
- Document new APIs
- Update CHANGELOG

### Areas for Contribution

**High Priority:**
- ğŸ› Bug fixes
- ğŸ“Š New metrics and charts
- ğŸ¨ UI/UX improvements
- ğŸ“± Mobile responsiveness
- ğŸ”’ Security enhancements

**Medium Priority:**
- âœ¨ New features
- ğŸ“– Documentation improvements
- ğŸ§ª Test coverage
- âš¡ Performance optimization

**Future Enhancements:**
- ğŸ” Two-factor authentication
- ğŸ“Š Custom dashboards
- ğŸŒ Multi-language support
- ğŸ“± Mobile app
- ğŸ”Œ Plugin system

---

## License

MIT License

Copyright (c) 2026 TechDeveloper

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

---

## Acknowledgments

**Built with:**
- Flask - Web framework
- Socket.IO - Real-time updates
- Chart.js - Data visualization
- Bootstrap - UI framework
- NumPy - Statistical analysis
- psutil - Process monitoring

**Inspired by:**
- Claude AI by Anthropic
- Modern DevOps practices
- Professional monitoring solutions

**Special Thanks:**
- Anthropic team for Claude AI
- Open source community
- All contributors

---

## Contact & Support

**Developer:** TechDeveloper
**Website:** [www.techdeveloper.in](https://www.techdeveloper.in)
**GitHub:** [piyushmakhija28/claude-insight](https://github.com/piyushmakhija28/claude-insight)

**Support:**
- ğŸ› [Report Bug](https://github.com/piyushmakhija28/claude-insight/issues)
- âœ¨ [Request Feature](https://github.com/piyushmakhija28/claude-insight/issues)
- ğŸ“– [Documentation](./claude-memory-system/MASTER-README.md)
- ğŸ’¬ [Discussions](https://github.com/piyushmakhija28/claude-insight/discussions)

---

**Made with â¤ï¸ by TechDeveloper**

**â­ Star this repo if you find it useful!**

---

## Version History

### v2.13 (Feb 2026) - Widget Collaboration Edition
- Real-time collaborative widget editing
- Version control with semantic versioning
- Comments and discussions with @mentions
- Featured and trending widgets
- Backend architecture complete (33%)

### v2.12 (Feb 2026) - Memory System Integration
- Complete Claude Memory System v2.2.0 integration
- 8 daemon health monitoring
- 10 policy enforcement tracking
- Context optimization metrics
- System health scoring

### v2.11 (Feb 2026) - Alert Routing Edition
- Custom routing rules
- Multi-level escalation
- On-call schedules
- Notification channels

### v2.10 (Feb 2026) - Forecasting Edition
- 5 forecasting algorithms
- Time series predictions
- Capacity planning
- Breach detection

### v2.9 (Feb 2026) - AI Detection Edition
- 6 ML anomaly detection algorithms
- Ensemble detection
- Confidence scoring
- Anomaly management

### v2.8 (Feb 2026) - Community Marketplace
- Widget marketplace
- Share and discover widgets
- Rating system
- Download tracking

### v2.7 (Feb 2026) - Advanced Widget Builder
- Drag-and-drop editor
- 15+ components
- Live preview
- Code editing

### v2.6 (Feb 2026) - Email & SMS Alerts
- Email notifications (SMTP)
- SMS alerts (Twilio)
- Alert rules
- History tracking

### v2.5 (Feb 2026) - Mobile & Notifications
- 6 custom themes
- Browser notifications
- Mobile responsive
- Real-time updates

### v2.4 (Feb 2026) - Analytics Edition
- Cost analysis
- Performance metrics
- Export options
- API documentation

---

**End of README** ğŸ“–
